<div class="web-view">
    <div class="row" *ngIf="!(sectionView_1 && leaderboard_data && sectionView_3); else dashboardTpl">
        <div class="col-lg-12">
            <dashboard-pages-skeleton></dashboard-pages-skeleton>

        </div>
    </div>
    <ng-template #dashboardTpl>
        <div class="row d-flex align-items-start">
            <!-- Left Section -->
            <div class="col-3  mt-2">
                <div class="profile_panel_container"
                    [style.background-image]="
                    sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                    <div class="profile_card">
                        <div class="upper_section">
                            <div class="level_name">{{sectionView_1?._personal_data?.role_name}}</div>
                        </div>
                        <div style="position: absolute;position: absolute;top: 16%;">
                            <div class="avatar-upload d-flex justify-content-center"
                                [style.border-color]="sectionView_1?.theme_details?.[0]?.dark_color">

                                <div class="avatar-edit" *ngIf="cameraimage">
                                    <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg"
                                        (change)="previewFile($event)" />
                                    <label for="imageUpload"
                                        [style.background-image]="'url(assets/images/svg/dashboard/camera-icon.svg)'"></label>
                                </div>
                                <div class="avatar-preview" style="border:3px solid"
                                    [style.border-color]="sectionView_1?.theme_details?.[0]?.dark_color">
                                    <img loading="lazy" id="imagePreview"
                                        src="{{sectionView_1?._personal_data?.profile_logo}}">
                                </div>
                            </div>
                        </div>

                        <div class="lower_section">
                            <div class="name_hos" ngbTooltip="{{sectionView_1?._personal_data?.first_name}}"
                                placement="bottom">
                                {{sectionView_1?._personal_data?.first_name}}
                            </div>
                            <hr style="color:black;width:16vw;opacity: 1.0;">
                            <div class="name_hos">
                                {{sectionView_1?._personal_data?.user_department}}
                            </div>
                            <div class="d-flex flex-column align-items-center justify-content-center mt-2">
                                <button class="btn btn-primary- text-white mt-1"
                                    *ngIf="sectionView_1?._personal_data?.id_role!='9'"
                                    style="height:5vh;width:6vw;display: flex;justify-content: center;align-items: center;border-radius:20px"
                                    [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}"
                                    [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color"
                                    data-bs-toggle="modal" data-bs-target="#IndexWiseLeaderBoard"
                                    (click)="GetRankingPopupData()">
                                    {{primary_rank}}
                                </button>
                                <button *ngIf="sectionView_1?._personal_data?.id_role=='9'"
                                    class="btn btn-primary- text-white mt-1"
                                    style="height:5vh;width:6vw;display: flex;justify-content: center;align-items: center;border-radius:20px"
                                    [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}"
                                    [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color">
                                    {{primary_rank}}
                                </button>
                                <span class="level-rank-name mt-2 mb-2">Rank</span>
                            </div>

                        </div>

                    </div>




                    <div class="point_distribution_section">
                        <div class="dashboard-user-name mb-2 " style="display:flex;justify-content:center;gap:9vw">
                            <div class="col-8"></div>

                            <div class="col-4 d-flex justify-content-end" (click)="openKpiInfo('')"
                                data-bs-toggle="modal" data-bs-target="#operallPointsAbove">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-info-circle" viewBox="0 0 16 16" style="cursor:pointer">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                    <path
                                        d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" />
                                </svg>
                            </div>


                        </div>
                        <mat-card class="point_one" (click)="getGraphDataById()">
                            <div class="row" style="width: 22vw;">
                                <div class="col-7 point_background"
                                    [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}">
                                    <div class="point_one_label" style="color:#fff"> Overall Growth Index</div>
                                </div>

                                <div class="col-5 point_score_div">
                                    <div class="row "
                                        style="display: flex;flex-wrap: nowrap;justify-content:space-between; gap:1em">
                                        <div class="col-2 d-flex  align-items-center" style="height: 6vh;">
                                            <!-- <img
                                                            src="assets/images/TopHierarchyDashboard/point_dist_coin.png" /> -->
                                        </div>
                                        <div class="col-9 d-flex justify-content-end align-items-center"
                                            style="height: 6vh;">
                                            <div class="point_dist_score text-end col ">
                                                {{sectionView_1._points[0].score}}</div>
                                            <div
                                                style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;">

                                                <div
                                                    style="height: 1.2vh;width:1.3vw;border-radius:100%;background-color:transparent ;">
                                                </div>
                                                <div class="col d-flex align-items-center">
                                                    <div style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;"
                                                        *ngIf="sectionView_1._points[0].ranking_arrow=='green'">

                                                        <img src="assets/images/BoosterAssests/UP-16687580465394.png"
                                                            alt="" height="100%">
                                                    </div>
                                                    <div style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;"
                                                        *ngIf="sectionView_1._points[0].ranking_arrow=='red' || sectionView_1._points[0].ranking_arrow=='RED'">

                                                        <img src="assets/images/BoosterAssests/DN-16687580461987.png"
                                                            alt="" height="100%">
                                                    </div>
                                                    <!-- <div style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;" *ngIf="sectionView_1._points[0].ranking_arrow=='red'"  >
                                
                                                                    <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                                        height="100%">
                                
                                                                </div> -->
                                                    <div *ngIf="sectionView_1._points[0].ranking_arrow=='yellow'"
                                                        style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;">


                                                        <img src="assets/images/BoosterAssests/EQ-16687580462022.png"
                                                            alt="" srcset="" height="60%" width="60%">


                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col  d-flex justify-content-end align-items-center me-2">
                                                <img src="assets/images/TopHierarchyDashboard/Arrow.png" />
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-card>
                        <mat-card class="point_one" (click)="getGraphDataById()"
                            *ngFor="let item of sectionView_1?._kpi_score">
                            <div class="row" style="width: 22vw;">
                                <div class="col-7 point_background">
                                    <div class="point_one_label"> {{item?.point_label}}</div>
                                </div>

                                <div class="col-5 point_score_div">
                                    <div class="row "
                                        style="display: flex;flex-wrap: nowrap;justify-content:space-between; gap:1em">
                                        <div class="col-2 d-flex  align-items-center" style="height: 6vh;">
                                            <!-- <img
                                                            src="assets/images/TopHierarchyDashboard/point_dist_coin.png" /> -->
                                        </div>
                                        <div class="col-9 d-flex justify-content-end align-items-center"
                                            style="height: 6vh;">
                                            <div class="point_dist_score text-end">{{item?.weightage}}</div>
                                            <div class="col d-flex align-items-center">
                                                <div style="height:2.5vh;" *ngIf="item.ranking_arrow=='green'">

                                                    <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                                        height="100%">
                                                </div>

                                                <div *ngIf="item.ranking_arrow=='red'" style="height:2.5vh;">

                                                    <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                        height="100%">

                                                </div>
                                                <div *ngIf="item.ranking_arrow=='yellow'"
                                                    style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;">


                                                    <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt=""
                                                        srcset="" height="60%" width="60%">


                                                </div>
                                            </div>
                                            <div class="col  d-flex justify-content-end align-items-center me-2">
                                                <img src="assets/images/TopHierarchyDashboard/Arrow.png" />
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-card>
                    </div>





                </div>
            </div>
            <!-- Dashboard Section -->
            <div class="col-6 mt-2 justify-content-between align-items-start">
                <div class="dashboard_section">
                    <div class="badge_container"
                        [style.background-image]="
                        sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                        <div *ngIf="sectionView_1._personal_data.id_role=='9' then redirectToBH else dontredirect">
                        </div>
                        <ng-template #redirectToBH>
                            <div class="">
                                <div>
                                    <img (click)="getDataBasedOnUserIDHos(sectionView_1?._business_user[0])"
                                        src="{{sectionView_1._personal_data.profile_badge_image}}" alt="badge_img"
                                        height="60%" width="60%">
                                </div>
                                <div (click)="getDataBasedOnUserIDHos(sectionView_1?._business_user[0])"
                                    class="badge-level_name d-flex justify-content-center">
                                    <span>Level</span>
                                </div>
                            </div>


                        </ng-template>
                        <ng-template #dontredirect>
                            <div>


                                <div>
                                    <img src="{{sectionView_1._personal_data.profile_badge_image}}" alt="badge_img"
                                        height="60%" width="60%">
                                </div>
                                <div class="badge-level_name d-flex justify-content-center">
                                    <span>Level</span>
                                </div>
                            </div>
                        </ng-template>

                    </div>

                    <div class="banner_container"
                        [style.background-image]="
                sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                        <div style="background-image:url('{{sectionView_1?._personal_data?.background_image_profile_web}}');width: 33vw;height: 20vh;background-size: 100% 100%;border-radius:10px;display:flex;    justify-content: center;
                align-items: center;gap:12vw">
                            <div *ngIf="sectionView_1._personal_data.id_role!=9;then rewardPoints"></div>
                            <ng-template #rewardPoints>
                                <div class="game_points_div">
                                    <div [style.background-image]="'url(assets/images/svg/dashboard/Confetti.png)'"
                                        style="height: 6vh;width: 7vw;display: flex;justify-content: center;align-items:center">
                                        <img class="game_points_image"
                                            src="{{sectionView_1?.theme_details?.[0]?.game_points_image}}" />
                                    </div>

                                    <div class="game_points_score d-flex justify-content-center">
                                        {{gamePoints?.[0]?.score}}
                                    </div>
                                    <div class="game_point_label">{{gamePoints?.[0]?.label}}s</div>
                                </div>

                                <div class="reward_points_div" (click)="getRewards(sectionView_1)">
                                    <div [style.background-image]="'url(assets/images/svg/dashboard/Confetti.png)'"
                                        style="height: 6vh;
                            width: 7vw;display: flex;justify-content: center;align-items:center">
                                        <img class="reward_points_image"
                                            src="{{sectionView_1?.theme_details?.[0]?.reward_points_image}}" />
                                    </div>

                                    <div class="reward_points_score d-flex justify-content-center">
                                        {{sectionView_1?._points?.[2]?.score}}
                                    </div>
                                    <div class="reward_point_label">{{sectionView_1?._points?.[2]?.label}}s</div>

                                </div>
                            </ng-template>
                        </div>
                    </div>
                </div>

                <div class="leaderBoard mt-2" style="background-size: cover;border-radius: 10px;"
                    [style.background-image]="
                sectionView_1?.theme_details?.[0]?.island_background ? 'url('+sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                    <div>
                        <div class="button_div">
                            <button style="margin-left: 1vw;" class="button_series"
                                *ngFor="let item of leaderboard_data_buttons;let i=index"
                                [class.activeTab]="i==this.activeClass" (click)="leaderboard(i)">
                                {{item.label}}
                            </button>
                        </div>
                        <div class="button_div" *ngIf="sectionView_1._personal_data.id_role==8">
                            <button style="margin-left: 1vw;" class="button_series col" (click)="myLeaderboard()"
                                [class.activeTab]="this.subActiveClass">
                                My {{leaderboard_data_buttons[0].label}}
                            </button>
                            <button class="button_series col" (click)="overallLeaderboard()"
                                [class.activeTab]="this.subActiveClassOverall">Overall
                                {{leaderboard_data_buttons[0].label}}</button>
                        </div>

                    </div>
                </div>
                <div class="row " style="display:flex;flex-wrap: nowrap;">
                    <input type="text" class="search_box" placeholder="Search people here.."
                        [(ngModel)]="spectSearchStr" (keyup)="checkEmpty()">
                    <i class="search_bar_img fa fa-search d-flex justify-content-center align-items-center"
                        aria-hidden="true" (click)="spectSearch()"></i>
                </div>

                <!-- LeaderBoard -->
                <div class="row mt-2"
                    [style.background-image]="
                sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null"
                    style="background-size:cover;border-radius:10px;width: 49vw;
                    margin-left: 0.1vw;">
                    <div class="row" style="color: #ffff; margin-top: 1.2vh;">
                        <div class=" leaderboard_label ps-4 d-flex align-items-center mb-1"
                            style="color: #fff;">
                            <div class="leaderboard_rank">Rank</div>
                            <div class="leaderboard_name">Name</div>
                            <div class="leaderboard_points">Points</div>
                        </div>
                    </div>

                    <div class="row leaderboard_with_fixed_tile">

                        <!-- <div *ngIf="sectionView_1._personal_data.id_role==9 ;then sm else rm"></div> -->
                        <!-- <ng-template #sm> -->

                        <div
                            *ngIf="spectSearchStr ==''|| spectSearchStr == undefined || spectSearList.length>10||spectSearchStr==null;then withoutsearch else withsearch">
                        </div>
                        <ng-template #withoutsearch>
                            <div [ngClass]="lengthLeaderBoardData>19 ?'leaderboard_label_tile_length':'leaderboard_label_tile'"
                                [style.height.vh]="sectionView_1._personal_data.id_role==8?35:42">
                                
                                <div *ngIf="sectionView_1._personal_data.id_role=='9'">
                                    <mat-card style="cursor: pointer;" class="leaderboard_tile"
                                        *ngFor="let res of leaderboard_data; let i=index"
                                        [style.background-image]="'url(' + res?.ranking_image_web + ')'">

                                        <div class="leaderboard_rank_score">
                                            {{res.rankingtable_number}}
                                        </div>
                                        <!-- (click)="openHierarchyPopup(res)" -->
                                        <div
                                            *ngIf="this.userSelectionData._personal_data.id_role!=13 ; then openHierarchy else dontOpenHierarchy ">
                                        </div>
                                        <ng-template #openHierarchy>
                                            <div class="leaderboard_rank_profile_image_div"
                                                *ngIf="this.userSelectionData._personal_data.id_role!=13">
                                                <img class="leaderboard_rank_profile_image"
                                                    (click)="openHierarchyPopup(res)" src="{{res.rankingtable_logo}}" />
                                            </div>
                                        </ng-template>

                                        <ng-template #dontOpenHierarchy>
                                            <div class="leaderboard_rank_profile_image_div"
                                                *ngIf="this.userSelectionData._personal_data.id_role==13">
                                                <img class="leaderboard_rank_profile_image"
                                                    src="{{res.rankingtable_logo}}" />
                                            </div>
                                        </ng-template>


                                        <div class="leaderboard_name_and_team" (click)="navigateToSMDashboard(res)">
                                            <div class="leaderboard_name_label" ngbTooltip="{{res.rankingtable_name}}"
                                                placement="bottom">
                                                {{res.rankingtable_name}}
                                            </div>
                                            <div class="leaderboard_team_label" (click)="navigateToSMDashboard(res)">
                                                {{res.display_name}}
                                            </div>
                                        </div>

                                        <div class="leaderboard_rank_badge_image_div">
                                            <img class="leaderboard_rank_badge_image" src="{{res.ranking_badge}}" />
                                        </div>


                                        <div class="leaderboard_rank_points_div">
                                            <div class="leaderboard_rank_points_label">{{res.rankingtable_weightage}}
                                            </div>
                                        </div>

                                        <div
                                            *ngIf="this.userSelectionData._personal_data.id_role!=13;then openPoke else closePoke">
                                        </div>
                                        <ng-template #openPoke>
                                            <div class="leaderboard_rank_up_down_arrow_div "
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='green'">
                                                <img (click)="upDownArrow(res.rankingtable_arrow,res)"
                                                    class="leaderboard_rank_up_down_arrow_image"
                                                    src="{{sectionView_1.theme_details[0].up_arrow}}" />
                                            </div>

                                            <div class="leaderboard_rank_up_down_arrow_div"
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='red'">
                                                <img (click)="upDownArrow(res.rankingtable_arrow,res)"
                                                    class="leaderboard_rank_up_down_arrow_image"
                                                    src="{{sectionView_1.theme_details[0].down_arrow}}" />
                                            </div>

                                            <div class="leaderboard_rank_up_down_arrow_div "
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='yellow'">
                                                <div style="height:3vh;width:3vh;border-radius:100%;">
                                                    <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt=""
                                                        srcset="" height="100%" width="100%">
                                                </div>


                                            </div>
                                        </ng-template>
                                        <ng-template #closePoke>
                                            <div class="leaderboard_rank_up_down_arrow_div "
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='green'">
                                                <img class="leaderboard_rank_up_down_arrow_image"
                                                    src="{{sectionView_1.theme_details[0].up_arrow}}" />
                                            </div>

                                            <div class="leaderboard_rank_up_down_arrow_div"
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='red'">
                                                <img class="leaderboard_rank_up_down_arrow_image"
                                                    src="{{sectionView_1.theme_details[0].down_arrow}}" />
                                            </div>

                                            <div class="leaderboard_rank_up_down_arrow_div "
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='yellow'">
                                                <div style="height:3vh;width:3vh;border-radius:100%;">
                                                    <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt=""
                                                        srcset="" height="100%" width="100%">
                                                </div>


                                            </div>
                                        </ng-template>

                                    </mat-card>
                                </div>
                                <div *ngIf="sectionView_1._personal_data.id_role=='8'">
                                    <mat-card class="leaderboard_tile" *ngFor="let res of leaderboard_data; let i=index"
                                        [style.background-image]="'url(' + res?.ranking_image_web + ')'">
                                        <div class="leaderboard_rank_score">
                                            {{res.rankingtable_number}}
                                        </div>
                                        <div
                                            *ngIf="this.userSelectionData._personal_data.id_role!=13 ; then openHierarchy else dontOpenHierarchy ">
                                        </div>

                                        <ng-template #openHierarchy>
                                            <div class="leaderboard_rank_profile_image_div"
                                                (click)="openHierarchyPopup(res)">
                                                <img class="leaderboard_rank_profile_image"
                                                    src="{{res.rankingtable_logo}}" />
                                            </div>
                                        </ng-template>
                                        <ng-template #dontOpenHierarchy>
                                            <div class="leaderboard_rank_profile_image_div">
                                                <img class="leaderboard_rank_profile_image"
                                                    src="{{res.rankingtable_logo}}" />
                                            </div>
                                        </ng-template>


                                        <div class="leaderboard_name_and_team" (click)="navigateToRMDashboard(res)">
                                            <div class="leaderboard_name_label" ngbTooltip="{{res.rankingtable_name}}"
                                                placement="bottom">

                                                {{res.rankingtable_name}}
                                            </div>
                                            <div class="leaderboard_team_label" (click)="navigateToRMDashboard(res)">
                                                {{res.display_name}}
                                            </div>
                                        </div>
                                        <div class="leaderboard_rank_badge_image_div">
                                            <img class="leaderboard_rank_badge_image" src="{{res.ranking_badge}}" />
                                        </div>

                                        <div class="leaderboard_rank_points_div">
                                            <div class="leaderboard_rank_points_label">{{res.rankingtable_weightage}}
                                            </div>
                                        </div>

                                        <div
                                            *ngIf="this.userSelectionData._personal_data.id_role!=13;then poke else Dontpoke">
                                        </div>
                                        <ng-template #poke>
                                            <div class="leaderboard_rank_up_down_arrow_div"
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='green'">
                                                <img (click)="upDownArrow(res.rankingtable_arrow,res)"
                                                    class="leaderboard_rank_up_down_arrow_image"
                                                    src="{{sectionView_1.theme_details[0].up_arrow}}" />

                                            </div>

                                            <div class="leaderboard_rank_up_down_arrow_div"
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='red'">
                                                <img (click)="upDownArrow(res.rankingtable_arrow,res)"
                                                    class="leaderboard_rank_up_down_arrow_image"
                                                    src="{{sectionView_1.theme_details[0].down_arrow}}" />
                                            </div>

                                            <div class="leaderboard_rank_up_down_arrow_div"
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='yellow'">
                                                <img class="leaderboard_rank_up_down_arrow_image"
                                                    src="assets/images/BoosterAssests/EQ-16687580462022.png" />

                                            </div>
                                        </ng-template>
                                        <ng-template #Dontpoke>
                                            <div class="leaderboard_rank_up_down_arrow_div"
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='green'">
                                                <img class="leaderboard_rank_up_down_arrow_image"
                                                    src="{{sectionView_1.theme_details[0].up_arrow}}" />

                                            </div>

                                            <div class="leaderboard_rank_up_down_arrow_div"
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='red'">
                                                <img class="leaderboard_rank_up_down_arrow_image"
                                                    src="{{sectionView_1.theme_details[0].down_arrow}}" />
                                            </div>

                                            <div class="leaderboard_rank_up_down_arrow_div"
                                                style="margin-left: 3vw;display:flex; justify-content: center;"
                                                *ngIf="res.rankingtable_arrow=='yellow'">
                                                <img class="leaderboard_rank_up_down_arrow_image"
                                                    src="assets/images/BoosterAssests/EQ-16687580462022.png" />

                                            </div>
                                        </ng-template>

                                    </mat-card>
                                </div>




                            </div>
                        </ng-template>
                        <ng-template #withsearch>
                            <div
                                [ngClass]="lengthLeaderBoardData>19  ?'leaderboard_label_tile_length':'leaderboard_label_tile'">
                                <!-- <div>
                                        {{leaderboard_data[0]._data | json}}
                                    </div> -->
                                <mat-card class="leaderboard_tile" style="margin-left:-1vw"
                                    *ngFor="let res of spectSearList; let i=index"
                                    [style.background-image]="'url(' + res?.ranking_image_web + ')'"
                                    (click)="navigateToSearchSMDashboard(i)">

                                    <div class="leaderboard_rank_score">
                                        {{res.rankingtable_number}}
                                    </div>
                                    <!-- (click)="openHierarchyPopup(res)" -->
                                    <div class="leaderboard_rank_profile_image_div">
                                        <img class="leaderboard_rank_profile_image" src="{{res.rankingtable_logo}}" />
                                    </div>

                                    <div class="leaderboard_name_and_team">
                                        <div class="leaderboard_name_label" ngbTooltip="{{res.rankingtable_name}}"
                                            placement="bottom">
                                            {{res.rankingtable_name}}
                                        </div>
                                        <div class="leaderboard_team_label">
                                            {{res.display_name}}
                                        </div>
                                    </div>

                                    <div class="leaderboard_rank_badge_image_div">
                                        <img class="leaderboard_rank_badge_image" src="{{res.ranking_badge}}" />
                                    </div>


                                    <div class="leaderboard_rank_points_div">
                                        <div class="leaderboard_rank_points_label">{{res.rankingtable_weightage}}</div>
                                    </div>

                                    <div class="leaderboard_rank_up_down_arrow_div"
                                        style="margin-left: 3vw;display:flex; justify-content: center;"
                                        *ngIf="res.rankingtable_arrow=='green'">
                                        <img class="leaderboard_rank_up_down_arrow_image"
                                            src="{{sectionView_1.theme_details[0].up_arrow}}" />
                                    </div>

                                    <div class="leaderboard_rank_up_down_arrow_div"
                                        style="margin-left: 3vw;display:flex; justify-content: center;"
                                        *ngIf="res.rankingtable_arrow=='red'">
                                        <img class="leaderboard_rank_up_down_arrow_image"
                                            src="{{sectionView_1.theme_details[0].down_arrow}}" />
                                    </div>

                                    <div class="leaderboard_rank_up_down_arrow_div"
                                        style="margin-left: 3vw;display:flex; justify-content: center;"
                                        *ngIf="res.rankingtable_arrow=='yellow'">
                                        <!-- <img class="leaderboard_rank_up_down_arrow_image"
                                                src="{{sectionView_1.theme_details[0].equal_arrow}}" /> -->
                                        <div style="height:3vh;width:3vh;border-radius:100%;">
                                            <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt=""
                                                srcset="" height="100%" width="100%">
                                        </div>
                                    </div>
                                </mat-card>
                            </div>
                        </ng-template>




                    </div>
                    <div *ngIf="lengthLeaderBoardData>19 || lengthSearchList>19;then showViewMore"></div>
                    <ng-template #showViewMore>
                        <div class="row">
                            <div class="div">
                                <button class="view_more_button" (click)="viewMore()">
                                    <img src="assets/images/svg/dashboard/load-more.svg" data-holder-rendered="true"
                                        height="13">
                                    View More
                                </button>
                            </div>
                        </div>
                    </ng-template>


                </div>

            </div>
            <!-- Right Section -->

            <div class="col-3 d-flex justify-content-center align-items-center mt-2 ">
                <div class="isLand_panel_container"
                    [style.background-image]="
                    sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                    <div style="height: 85vh;  overflow-y: auto;
                overflow-x:hidden;">
                        <!-- Ranking Section -->
                        <div class="Ranking_section_card" *ngFor="let item of sectionView_1?.is_land_logos">
                            <div class="upper_section">
                                <!-- <div class="level_name">{{sectionView_1._personal_data.level_label}}</div> -->
                                <div class="level_name">{{item.tag}}</div>
                            </div>
                            <div class="Island_score">
                                <!-- <img class="profile_picture_image" src="{{sectionView_1._personal_data.profile_logo}}" height="100%" width="" /> -->
                                <div class="Overall_score_Inner_circle">
                                    <img src="{{item.logo}}" alt="is_LandLogo" width="100%" height="100%"
                                        style="border-radius: 100%;">
                                </div>
                            </div>
                            <div class="lower_section d-flex flex-column justify-content-center align-items-center">
                                <button class="btn btn-primary- text-white mt-1"
                                    style="height:5vh;width:auto;display: flex;justify-content: center;align-items: center;border-radius:20px"
                                    [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}"
                                    [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color"
                                    (click)="getDataBasedOnUserID(item)">
                                    <!-- {{item._data}} -->
                                    Level {{item?.level}}
                                </button>
                                <!-- <div class="text-center mt-1">
                            <span style="font-weight:400;font-family:'Inter';font-size: 2vh;line-height: 2.4vh;">Rank</span>
                        </div> -->
                            </div>

                        </div>
                        <!-- Governance Index -->
                        <div class="profile_card" (click)="navigateToGovernanceIndex()">
                            <div class="upper_section">
                                <!-- <div class="level_name">{{sectionView_1._personal_data.level_label}}</div> -->
                                <div class="level_name">Governance Index</div>
                            </div>
                            <div class="Overall_score" *ngIf="sectionView_1._governance_score.length!=0"
                                [ngbTooltip]="(sectionView_1._auto_fail==1) ?  'Auto Fail' : 'No Auto Fail'"
                                placement="bottom"
                                [ngClass]="sectionView_1._auto_fail==1?'Overall_score_fail':'overall_score_success'">
                                <!-- <img class="profile_picture_image" src="{{sectionView_1._personal_data.profile_logo}}" height="100%" width="" /> -->
                                <ng-template #Overall_score_fail>


                                </ng-template>
                                <div class="Overall_score_Inner_circle">
                                    <div class="overall_score_number">{{sectionView_1?._governance_score[0]?.weightage}}
                                    </div>
                                    <div class="overall_score_text">{{sectionView_1._governance_score[0]?.point_label}}
                                    </div>
                                </div>
                            </div>
                            <div class="lower_section">
                                <div class="Governance_index_points"
                                    *ngFor="let res of sectionView_1?._governance_score ; let j=index">
                                    <!-- As Per Dnyaneshwari and ops team requirement  -->
                                    <div
                                        *ngIf="this.sectionView_1?._personal_data?.id_coroebus_organization=='76';then ipruGame else otherGame">
                                    </div>
                                    <ng-template #ipruGame>
                                        <div *ngIf="j !=0 && j!=4">{{res.point_label}}</div>
                                        <div *ngIf="j==4">Hiring</div>
                                    </ng-template>
                                    <ng-template #otherGame>
                                        <div *ngIf="j !=0">{{res.point_label}}</div>
                                    </ng-template>

                                    <div class="d-flex justify-content-between gap-2">
                                        <div *ngIf="j !=0">{{res.weightage}}</div>

                                        <div *ngIf="res?.rankingtable_arrow=='green' &&  j !=0" style="height:2.5vh;">

                                            <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                                height="100%">
                                        </div>

                                        <div *ngIf="res?.rankingtable_arrow=='red' && j !=0" style="height:2.5vh;">

                                            <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                height="100%">

                                        </div>
                                        <div *ngIf="res?.rankingtable_arrow=='yellow' && j !=0" style="height:2.5vh;">

                                            <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt=""
                                                height="100%" width="100%">

                                        </div>
                                    </div>

                                </div>


                            </div>

                        </div>

                        <div
                            *ngIf=" sectionView_1?._personal_data.id_role=='9';then BuisenessIndexForHOS else BuisenessIndexForSM">
                        </div>
                        <ng-template #BuisenessIndexForHOS>
                            <div class="business-index_gop">
                                <div style="font-family: 'Inter';font-weight: 400;">

                                    Business Index
                                </div>

                                <div class="business_index_container">
                                    <div class="business_index_points"
                                        *ngFor="let business_response of sectionView_1._business_score">
                                        <div class="upper_side">
                                            <div style="white-space: nowrap;
                                    overflow: hidden;
                                    text-overflow: ellipsis;
                                    width:17ch;
                                    text-align:center
                                    " ngbTooltip="{{business_response.point_indicator}}" placement="bottom">
                                                {{business_response.point_label}}
                                            </div>

                                        </div>
                                        <div class="lower_side d-flex justify-content-center gap-2">
                                            <div></div>
                                            <div>&nbsp;&nbsp;&nbsp;{{business_response.weightage}}</div>
                                            <div class="d-flex">


                                                <div *ngIf="business_response.ranking_arrow=='green'"
                                                    style="height:2.5vh; display: flex;">

                                                    <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                                        height="100%">
                                                </div>

                                                <div *ngIf="business_response.ranking_arrow=='red'"
                                                    style="height:2.5vh; display: flex;">

                                                    <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                        height="100%">

                                                </div>
                                                <div *ngIf="business_response.ranking_arrow=='yellow' "
                                                    style="height:1.5vh;width:1.5vh; display: flex;">

                                                    <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt=""
                                                        height="100%" width="100%">

                                                </div>
                                            </div>
                                        </div>


                                    </div>



                                </div>

                            </div>
                        </ng-template>

                        <ng-template #BuisenessIndexForSM>
                            <div
                                style="display: flex;justify-content: center; align-items: center;margin-top: 1vh;font-family: Inter;">
                                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false"
                                    class="mt-1" style="width: 19vw;font-family: 'Inter';">
                                    <mat-expansion-panel-header
                                        [ngStyle]="{background: sectionView_1?.theme_details?.[0]?.dark_color}">
                                        <mat-panel-title
                                            style="color: #ffff;font-weight:500;display:flex;justify-content: center;font-family: 'Inter';font-size:2.2vh">
                                            <span> Business Index</span>

                                        </mat-panel-title>

                                    </mat-expansion-panel-header>

                                    <div>
                                        <div class="d-flex justify-content-between align-items-center mt-4"
                                            style="font-weight: 550;font-family: 'Inter';width:97%"
                                            *ngFor="let bus_response of sectionView_1._business_score">
                                            <div class="global_index_mobile d-flex"
                                                style="font-weight: 500;font-family: 'Inter';">
                                                {{bus_response.point_label}}

                                            </div>
                                            <div class="d-flex">
                                                <div class="global_index_details  "
                                                    style="font-weight: 500;font-family: 'Inter';margin-right: 1vw;">
                                                    <!-- {{GrowthIndexData[0].score}} -->

                                                    {{bus_response.weightage}}


                                                </div>
                                                <div class="d-flex ">


                                                    <div *ngIf="bus_response.ranking_arrow=='green'"
                                                        style="height:2.5vh; display: flex;">

                                                        <img src="assets/images/BoosterAssests/UP-16687580465394.png"
                                                            alt="" height="100%">
                                                    </div>

                                                    <div *ngIf="bus_response.ranking_arrow=='red'"
                                                        style="height:2.5vh; display: flex;">

                                                        <img src="assets/images/BoosterAssests/DN-16687580461987.png"
                                                            alt="" height="100%">

                                                    </div>
                                                    <div *ngIf="bus_response.ranking_arrow=='yellow' "
                                                        style="height:2.5vh;width:2.5vh; display: flex;justify-content:center;align-items:center">

                                                        <img src="assets/images/BoosterAssests/EQ-16687580462022.png"
                                                            alt="" height="60%" width="60%">

                                                    </div>
                                                </div>
                                                <div class="d-flex align-items-center">
                                                    <!-- <div  style="height:2.5vh;">
    
                                                    <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                                        height="100%" >
                                                </div> -->

                                                    <!-- <div *ngIf="res.rankingtable_arrow!='green' && j !=0"  style="height:2.5vh;">
                
                                                    <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                        height="100%">
                
                                                </div> -->
                                                </div>
                                            </div>

                                        </div>



                                        <!-- <div  *ngFor="let kpi_data of buisness_head_response_._kpi_score">
                                        <div class="d-flex justify-content-between align-items-center" style="font-weight: 550;font-family: 'Inter';">
                                            <div class="pech ">
                                                {{ kpi_data.point_label}}
                                                
                                            </div>
                                            <div class="pech_details">
                                                {{ kpi_data.weightage}}
                                            </div>
                                        </div>
                                        
                                    </div> -->

                                    </div>


                                </mat-expansion-panel>
                            </div>
                        </ng-template>
                    </div>


                </div>
            </div>
        </div>
    </ng-template>

    <div *ngIf="this.pokeAnimationData !='';then animation"></div>
    <ng-template #animation>
        <div id="animationPoke">
            <section class="d-flex justify-content-center" *ngFor="let item of pokeslidedata, index as i">
                <div class="crawl">
                    <div style="color: #FFFFFF;">Poked by {{item.Pokedby}}</div>
                    <img alt="" src="{{item.poke_logo}}" style="width: 100px; height: 100px;" />
                    <div style="color: #FFFFFF;">{{item.poke_description}}</div>
                </div>
            </section>
        </div>
    </ng-template>
    <ng-template #pokeList let-modal>
        <div class="level-buckets poke-buckets p-1">
            <div class="modal-header border-bottom-0 p-0">
                <div class="row w-100">
                    <div class="col"></div>
                    <div class="col poketitle text-center ms-3">
                        Poke
                    </div>
                    <div class="col pt-2">
                        <i class="fa fa-times float-end" (click)="modal.dismiss('Cross click')"></i>
                    </div>
                </div>
            </div>
            <div class="modal-body dashboard-popup-level">
                <!-- <ng-container *ngFor="let item of pokeData">
                      <ng-container *ngIf="item?.label === arrowStatus">
                          <div class="row row-cols-3 text-center mt-0">
                              <ng-container *ngFor="let pokeLogo of item?._data,index as i">
                                  <div class="col">
                                      <div class="card poke-card" [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color">
                                          <span [class.active]="i===clicked" (click)="emojiSelected(i,arrowStatus)" >
                                              <img src="{{pokeLogo?.poke_logo}}" class="card-img-top poke-image" alt="...">
                                          </span>
                                      </div>
                                  </div>
                              </ng-container>
                          </div>
                          <div class="row">
                              <div class="col">
                                  <div class="card emojitext"[style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color">
                                      <span *ngIf="this.emoji" class="" style="text-align: center; padding:3%;">{{this.emoji}}</span>
                                      <span *ngIf="!this.emoji" class="" style="text-align: center; padding:3%;">{{item?._data[0].poke_description}}</span>
                                  </div>
                              </div>
                          </div>
                            <div class="card-fotter" >
                                          <button class="submit btn text-white"    
                                          [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}"
                                          [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color" (click)="pokeSelection(modal)" >
                                          Submit
                                      </button>
                                      </div>
                                      <div>
      
                                      </div>
                      </ng-container>
                  </ng-container> -->

                <div *ngIf="arrowStatus=='Positive';then positive else motivation"></div>
                <ng-template #positive>
                    <div class="row row-cols-3 text-center mt-0">
                        <ng-container *ngFor="let item of pokeData[0]._data,index as i">
                            <div class="col">
                                <div class="card poke-card "
                                    [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color"
                                    style="border:2px solid">
                                    <span [class.active]="i===clicked" (click)="emojiSelected(i,arrowStatus)"
                                        [style.border-color]="sectionView_1?.theme_details?.[0]?.dark_color">
                                        <img src="{{item?.poke_logo}}" class="card-img-top poke-image" alt="...">
                                    </span>
                                </div>
                            </div>

                        </ng-container>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="card emojitext"
                                [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color">
                                <span *ngIf="this.emoji" class=""
                                    style="text-align: center; padding:3%;">{{pokeidselected}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="card-fotter" style="display: flex; justify-content: center;">
                        <button class="submit btn text-white"
                            [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}"
                            (click)="pokeSelection(modal)">
                            Submit
                        </button>
                    </div>
                    <div>

                    </div>

                    <!-- <div class="row text-center mt-0">
                      <div>
                        <div class="col-4"  *ngFor="let item of pokeData[0]._data,index as i">
                                  <div class="card poke-card" [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color">
                                      <span [class.active]="i===clicked" (click)="emojiSelected(i,arrowStatus)" >
                                          <img src="{{item?.poke_logo}}" class="card-img-top poke-image" alt="...">
                                      </span>
                                  </div>
                          </div>
                      </div>
                    </div> -->
                </ng-template>

                <!-- <ng-template #motivation>
                          <div class="row row-cols-3 text-center mt-0">
                              <ng-container *ngFor="let item of pokeData[1]._data,index as i">
                                  <div class="col">
                                      <div class="card poke-card"
                                      [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color"
                                      style="border:2px solid">
                                          <span [class.active]="i===clicked" (click)="emojiSelected(i,arrowStatus)"
                                          [style.border-color]="sectionView_1?.theme_details?.[0]?.dark_color">
                                              <img src="{{item?.poke_logo}}" class="card-img-top poke-image"   alt="...">
                                          </span>
                                      </div>
                                  </div>
                              </ng-container>
                          </div>
                          <div class="row">
                              <div class="col">
                                  <div class="card emojitext"[style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color">
                                      <span *ngIf="this.emoji" class="" style="text-align: center; padding:3%;">{{emoji}}</span>
                                  </div>
                              </div>
                          </div>
                            <div class="card-fotter" style="display: flex; justify-content: center;">
                                <button class="submit btn text-white" [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}"
                                    (click)="pokeSelection(modal)">
                                    Submit
                                </button>
                            </div>
                            <div>
                            
                            </div>
      
                       
                       </ng-template> -->
                <ng-template #motivation>
                    <div class="row row-cols-3 text-center mt-0">
                        <ng-container *ngFor="let item of pokeData[1]._data,index as i">
                            <div class="col">
                                <div class="card poke-card"
                                    [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color"
                                    style="border:2px solid">
                                    <span [class.active]="i===clicked" (click)="emojiSelected(i,arrowStatus)"
                                        [style.border-color]="sectionView_1?.theme_details?.[0]?.dark_color">
                                        <img src="{{item?.poke_logo}}" class="card-img-top poke-image" alt="..."
                                            height="90%" width="90%">
                                    </span>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="card emojitext"
                                [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color">
                                <span *ngIf="this.emoji" class=""
                                    style="text-align: center; padding:3%;">{{emoji}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="card-fotter" style="display: flex !important; justify-content: center !important;">
                        <button class="submit btn text-white"
                            [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}"
                            [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color"
                            (click)="pokeSelection(modal)">
                            Submit
                        </button>
                    </div>
                    <div>

                    </div>

                    <!-- <div class="row text-center mt-0">
                        <div>
                          <div class="col-4"  *ngFor="let item of pokeData[0]._data,index as i">
                                    <div class="card poke-card" [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color">
                                        <span [class.active]="i===clicked" (click)="emojiSelected(i,arrowStatus)" >
                                            <img src="{{item?.poke_logo}}" class="card-img-top poke-image" alt="...">
                                        </span>
                                    </div>
                            </div>
                        </div>
                      </div> -->
                </ng-template>
            </div>


        </div>
    </ng-template>

</div>

<!-- Mobile View Started -->
<div class="mobile-view">
    <div class="row" *ngIf="!(sectionView_1 && leaderboard_data && sectionView_3); else dashboardTplMobile">
        <div class="col-lg-12">
            <dashboard-pages-skeleton></dashboard-pages-skeleton>

        </div>
    </div>
    <ng-template #dashboardTplMobile>
        <div class="row mt-2">
            <div class="col-3">
                <div class="prof_pic_mobil" style="height:10vh;width:10vh;">
                    <img class="prof_pic_image" style="border-radius: 100%;border:2px solid #fff"
                        src="{{sectionView_1?._personal_data?.profile_logo}}" height="100%" width="100%" />
                </div>
                <div *ngIf="cameraimage" class="cameraimg">

                    <!-- <img class="camera_image" src="assets/images/TopHierarchyDashboard/Camera.svg" /> -->
                    <div class="camera_image_mobile">
                        <!-- <img class="camera_image" src="assets/images/TopHierarchyDashboard/Camera.svg" /> -->
                        <div class="mobile-avatar-upload">
                            <div class="mobile-avatar-edit">
                                <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg"
                                    (change)="previewFile($event)" />
                                <label for="imageUpload"
                                    [style.background-image]="'url(assets/images/svg/dashboard/camera-icon.svg)'"></label>
                            </div>

                            <!-- <div class="mobile-avatar-preview  justify-content-center">
                                <img loading="lazy" id="imagePreview"
                                    src="{{sectionView_1?._personal_data?.profile_logo}}">
    
                            </div> -->
                        </div>
                    </div>
                </div>
                <div>
                    <div class="profile_name_mobile d-flex justify-content-center" style="color:#ffff">
                        {{sectionView_1?._personal_data?.first_name?.slice(0,12)}}..
                    </div>
                    <div class="profile_team_name_mobile d-flex justify-content-center" style="color:#ffff">
                        {{sectionView_1?._personal_data?.organization_name?.slice(0,10)}}..
                    </div>
                    <div class="d-flex flex-column align-items-center justify-content-center mt-1">
                        <button *ngIf="sectionView_1?._personal_data?.id_role!='9'"
                            class="btn btn-primary- text-white mt-1"
                            style="height:5vh;width:20vw;display: flex;justify-content: center;align-items: center;border-radius:20px"
                            [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}"
                            [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color"
                            data-bs-toggle="modal" data-bs-target="#IndexWiseLeaderBoard"
                            (click)="GetRankingPopupData()">
                            {{primary_rank}}
                        </button>
                        <button *ngIf="sectionView_1?._personal_data?.id_role=='9'"
                            class="btn btn-primary- text-white mt-1"
                            style="height:5vh;width:20vw;display: flex;justify-content: center;align-items: center;border-radius:20px"
                            [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}"
                            [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color">
                            {{primary_rank}}
                        </button>
                        <span class="level-rank-name" style="color:#fff">Rank</span>
                    </div>


                </div>
            </div>
            <div class="col-9">

                <div
                    style="background-image: url({{sectionView_1?._personal_data?.background_image_profile_web}});width: 100%;height: 20vh;background-size: 100% 100%;border: 2px solid rgb(74, 193, 217);display: flex;align-items:center;justify-content: space-evenly;border-radius:10px">
                    <div class="d-flex align-items-center badge_div_mobile"
                        *ngIf="sectionView_1._personal_data.id_role!=9">
                        <img class="badge_image_mobile" src="{{sectionView_1._personal_data.profile_badge_image}}" />

                    </div>

                    <div class="game_points_div_mobile" *ngIf="sectionView_1._personal_data.id_role!=9">
                        <img class="game_points_image_mobile"
                            src="{{sectionView_1?.theme_details?.[0]?.game_points_image}}" />
                        <div class="game_points_score_mobile d-flex justify-content-center"
                            [style.background]="sectionView_1.theme_details[0].light_color">
                            {{gamePoints?.[0]?.score}}
                        </div>
                        <div class="game_point_label_mobile">{{gamePoints?.[0]?.label}}s</div>
                    </div>

                    <div class="reward_points_div_mobile" (click)="getRewards(sectionView_1)"
                        *ngIf="sectionView_1._personal_data.id_role!=9">
                        <img class="reward_points_image_mobile"
                            src="{{sectionView_1?.theme_details?.[0]?.reward_points_image}}" />
                        <div class="reward_points_score_mobile d-flex justify-content-center"
                            [style.background]="sectionView_1.theme_details[0].light_color">
                            {{sectionView_1?._points?.[2]?.score}}
                        </div>
                        <div class="reward_point_label_mobile">{{sectionView_1?._points?.[2]?.label}}</div>

                    </div>
                </div>


            </div>
        </div>
        <!-- Rank Section -->
        <div class="col-12 RankSection mb-2">

            <div class="points-dis-card"
                [style.background-image]="
            sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                <div class="d-flex flex-column justify-content-center align-items-center badge_div_mobile"
                    *ngIf="sectionView_1._personal_data.id_role==9"
                    (click)="getDataBasedOnUserIDHos(sectionView_1?._business_user[0])">
                    <img class="badge_image_mobile" style="height:14vh;width:14vh"
                        src="{{sectionView_1._personal_data.profile_badge_image}}" height="100%" width="100%" />
                    <div class="badge-level_name d-flex justify-content-center">
                        <span>Level</span>
                    </div>
                </div>
                <div class="card-body border-bottom- p-0" *ngIf="sectionView_1?.is_land_logos?.length > 0">
                    <div class="row" [ngClass]="{'one-data-mobile': sectionView_1?.is_land_logos?.length == 1,
                    'two-data-mobile': sectionView_1?.is_land_logos?.length === 2,
                    'three-data-mobile': sectionView_1?.is_land_logos?.length === 3,
                    'four-data-mobile':sectionView_1?.is_land_logos?.length === 3}">
                        <div class="col-12 card-container" style="overflow-y:auto;">

                            <div class="col-4  text-center" *ngFor="let item of sectionView_1?.is_land_logos">
                                <img src="{{item?.logo}}" class="island_login" alt="" height="100">


                                <button class="btn btn-primary- text-white level-badge-btn-mobile mt-2"
                                    [ngStyle]="{'background': sectionView_1?.theme_details?.[0]?.dark_color}"
                                    [style.border-color]="sectionView_1?.theme_details?.[0]?.medium_color"
                                    (click)="getDataBasedOnUserID(item)">
                                    <!-- {{item?._data}} -->
                                    Level {{item?.level}}
                                </button>
                                <br><span class="level-rank-name">{{item?.tag}}</span>

                            </div>


                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!-- Points Distribution -->
        <div class="row">
            <div class="col">

                <div class="point_distribution_mobile">
                    <div class="dashboard-user-name mb-2 " style="display:flex;justify-content:center;">
                        <div class="col-8"></div>

                        <div class="col-4 d-flex justify-content-end pe-1" (click)="openKpiInfo('')"
                            data-bs-toggle="modal" data-bs-target="#operallPointsAbove">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-info-circle" viewBox="0 0 16 16" style="cursor:pointer">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                <path
                                    d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" />
                            </svg>
                        </div>


                    </div>

                    <div class="point_dist_div_mobile">

                        <mat-card class="point_one_mobile" (click)="getGraphDataById()">
                            <div class="row"
                                style="width: 95vw;display: flex; justify-content: center; align-items: center;">
                                <div class="col-7 point_background_mobile"
                                    [style.background]="sectionView_1.theme_details[0].dark_color">
                                    <div class="point_one_label_mobile" style="color:#fff">Overall Growth Index</div>
                                </div>

                                <div class="col-5 point_score_div">
                                    <div class="row">
                                        <div class="col-3 d-flex  align-items-center" style="height: 4vh;">
                                            <img src="assets/images/TopHierarchyDashboard/point_dist_coin.png" />
                                        </div>
                                        <div class="col-9 d-flex justify-content-end align-items-center"
                                            style="height: 4vh;">
                                            <div class="point_one_label_mobile">{{sectionView_1._points[0].score}}</div>
                                            <div style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;"
                                                *ngIf="sectionView_1._points[0].ranking_arrow=='green'">

                                                <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                                    height="100%">
                                            </div>
                                            <div style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;"
                                                *ngIf="sectionView_1._points[0].ranking_arrow=='red' || sectionView_1._points[0].ranking_arrow=='RED'">

                                                <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                    height="100%">
                                            </div>
                                            <!-- <div style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;" *ngIf="sectionView_1._points[0].ranking_arrow=='red'"  >
            
                                                <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                    height="100%">
            
                                            </div> -->
                                            <div *ngIf="sectionView_1._points[0].ranking_arrow=='yellow'"
                                                style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;">


                                                <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt=""
                                                    srcset="" height="60%" width="60%">


                                            </div>

                                            <div class="">
                                                <img src="assets/images/TopHierarchyDashboard/Arrow.png" />
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-card>
                        <mat-card class="point_one_mobile" (click)="getGraphDataById()"
                            *ngFor="let item of sectionView_1?._kpi_score">
                            <div class="row"
                                style="width: 95vw;display: flex; justify-content: center; align-items: center;">
                                <div class="col-7 point_background_mobile"
                                    [style.background]="sectionView_1.theme_details[0].light_color">
                                    <div class="point_one_label_mobile"> {{item?.point_label}}</div>
                                </div>

                                <div class="col-5 point_score_div">
                                    <div class="row">
                                        <div class="col-3 d-flex  align-items-center" style="height: 4vh;">
                                            <img src="assets/images/TopHierarchyDashboard/point_dist_coin.png" />
                                        </div>
                                        <div class="col-9 d-flex justify-content-end align-items-center"
                                            style="height: 4vh;">
                                            <div class="point_one_label_mobile">{{item?.weightage}}</div>
                                            <div style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;"
                                                *ngIf="item.ranking_arrow=='green'">

                                                <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                                    height="100%">
                                            </div>
                                            <div style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;"
                                                *ngIf="item.ranking_arrow=='red' || item.ranking_arrow.ranking_arrow=='RED'">

                                                <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                    height="100%">
                                            </div>
                                            <!-- <div style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;" *ngIf="sectionView_1._points[0].ranking_arrow=='red'"  >
                                                <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                    height="100%">
            
                                            </div> -->
                                            <div *ngIf="item.ranking_arrow=='yellow'"
                                                style="height:2.5vh;width: 2.5vh;display:flex;justify-content:center;align-items: center;">


                                                <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt=""
                                                    srcset="" height="60%" width="60%">


                                            </div>

                                            <div class="">
                                                <img src="assets/images/TopHierarchyDashboard/Arrow.png" />
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-card>


                    </div>
                </div>
            </div>
        </div>
        <!-- Accordian -->
        <div class="row">
            <div class="col ">
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false" class="mt-1">
                    <mat-expansion-panel-header>
                        <mat-panel-title class="growth_index_accordion_mobile">
                            <strong> Business Index</strong>

                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <hr class="horizontal_row" style="font-weight: 550;font-family: 'Inter';">
                    <div class="d-flex justify-content-between align-items-center mt-4"
                        style="font-weight: 550;font-family: 'Inter';width:97%"
                        *ngFor="let bus_response of sectionView_1._business_score">
                        <div class="global_index_mobile d-flex" style="font-weight: 500;font-family: 'Inter';">
                            {{bus_response.point_label}}

                        </div>
                        <div class="d-flex">
                            <div class="global_index_details  "
                                style="font-weight: 500;font-family: 'Inter';margin-right: 1vw;">
                                <!-- {{GrowthIndexData[0].score}} -->

                                {{bus_response.weightage}}


                            </div>
                            <div class="d-flex ">


                                <div *ngIf="bus_response.ranking_arrow=='green'" style="height:2.5vh; display: flex;">

                                    <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt="" height="100%">
                                </div>

                                <div *ngIf="bus_response.ranking_arrow=='red'" style="height:2.5vh; display: flex;">

                                    <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt="" height="100%">

                                </div>
                                <div *ngIf="bus_response.ranking_arrow=='yellow' "
                                    style="height:2.5vh;width:2.5vh; display: flex;justify-content:center;align-items:center">

                                    <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt="" height="60%"
                                        width="60%">

                                </div>
                            </div>
                            <div class="d-flex align-items-center">
                                <!-- <div  style="height:2.5vh;">
    
                                                    <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                                        height="100%" >
                                                </div> -->

                                <!-- <div *ngIf="res.rankingtable_arrow!='green' && j !=0"  style="height:2.5vh;">
                
                                                    <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                        height="100%">
                
                                                </div> -->
                            </div>
                        </div>

                    </div>



                    <!-- <div  *ngFor="let kpi_data of buisness_head_response_._kpi_score">
                                        <div class="d-flex justify-content-between align-items-center" style="font-weight: 550;font-family: 'Inter';">
                                            <div class="pech ">
                                                {{ kpi_data.point_label}}
                                                
                                            </div>
                                            <div class="pech_details">
                                                {{ kpi_data.weightage}}
                                            </div>
                                        </div>
                                        
                                    </div> -->




                </mat-expansion-panel>


                <!-- Accordian mat-expansion For Governance Index -->


                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false" class="mt-2"
                    [ngClass]="(sectionView_1._auto_fail==1) ?  'red_auto_fail' : 'Green_auto_fail'">
                    <mat-expansion-panel-header>
                        <mat-panel-title class="growth_index_accordion_mobile">
                            <strong>Governance Index</strong>
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <hr class="horizontal_row" style="font-weight: 550;font-family: 'Inter';">
                    <div>
                        <!-- <div class="d-flex justify-content-between align-items-center mt-1" style="font-weight: 550;font-family: 'Inter';">
                                    <div class="global_index_mobile d-flex"  style="font-weight: 600;font-family: 'Inter';">Index
                                   
                                    </div>
                                    <div class="global_index_details  " style="font-weight: 600;font-family: 'Inter';">
                                        {{GrowthIndexData[0].score}}
            
                                    </div>
                                </div> -->

                        <div class="Governance_index_points d-flex justify-content-between "
                            style="font-weight: 550;font-family: 'Inter';margin-top: 2vh;"
                            *ngFor="let res of sectionView_1._governance_score ; let j=index">

                            <div
                                *ngIf="this.sectionView_1?._personal_data?.id_coroebus_organization=='76';then ipruGame else otherGame">
                            </div>
                            <ng-template #ipruGame>
                                <div *ngIf="j!=4">{{res.point_label}}</div>
                                <div *ngIf="j==4">Hiring</div>
                            </ng-template>
                            <ng-template #otherGame>
                                <div>{{res.point_label}}</div>
                            </ng-template>
                            <div class="d-flex justify-content-between gap-2">
                                <div>{{res.weightage}}</div>

                                <div *ngIf="res.rankingtable_arrow=='green' " style="height:2.5vh;">

                                    <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt="" height="100%">
                                </div>

                                <div *ngIf="res.rankingtable_arrow=='red'" style="height:2.5vh;">

                                    <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt="" height="100%">

                                </div>
                                <div *ngIf="res.rankingtable_arrow=='yellow'" style="height:2.5vh;">

                                    <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt="" height="100%"
                                        width="100%">

                                </div>
                            </div>

                        </div>



                        <!-- <div  *ngFor="let kpi_data of buisness_head_response_._kpi_score">
                                    <div class="d-flex justify-content-between align-items-center mt-4" style="font-weight: 550;font-family: 'Inter';">
                                        <div class="pech " style="font-weight: 600;font-family: 'Inter';">
                                            {{ kpi_data.point_label}}
                                            
                                        </div>
                                        <div class="pech_details" style="font-weight: 600;font-family: 'Inter';">
                                            {{ kpi_data.weightage}}
                                        </div>
                                    </div>
                                    
                                </div> -->

                    </div>

                </mat-expansion-panel>


            </div>

        </div>

        <!-- Button Div Section -->
        <div class="row d-flex justify-content-center align-items-center mt-2">

            <mat-card class="button_div_mobile" style="width:93vw;display:flex;flex-direction:column;justify-content:center
                ;align-items: center;"
                [style.background-image]="sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                <div
                    style="width:90vw;display:flex;flex-direction:row;justify-content:start;align-items: center;overflow-x:overlay;flex-wrap:nowrap;column-gap:0.5em;">
                    <div *ngFor="let item of leaderboard_data_buttons ;let i=index">
                        <button class="button_series_mobile" [class.activeTab]="i==this.activeClass"
                            (click)="leaderboard(i)">
                            {{item.label}}
                        </button>
                    </div>

                </div>
                <div style="width:90vw;" class=" d-flex gap-2 mt-2" *ngIf="sectionView_1._personal_data.id_role==8">
                    <button class="button_series_mobile col" (click)="myLeaderboard()"
                        [class.activeTab]="this.subActiveClass">
                        My {{leaderboard_data_buttons[0].label}}
                    </button>

                    <button class="button_series_mobile col" (click)="overallLeaderboard()"
                        [class.activeTab]="this.subActiveClassOverall">Overall
                        {{leaderboard_data_buttons[0].label}}</button>
                </div>

            </mat-card>
        </div>
        <!-- Search Bar Section -->

        <div class="row">
            <div class="col-10">
                <input class="search_box_mobile ps-2" placeholder="Search people here.." [(ngModel)]="spectSearchStr">
            </div>
            <div class="col-2  search_bar_img_mobile_div">
                <div class="search-box-mobile">
                    <i class="search_bar_img_mobile fa fa-search d-flex justify-content-center align-items-center"
                        aria-hidden="true" (click)="spectSearch()"></i>
                </div>

            </div>
        </div>
        <!-- Home Btn -->
        <!-- <div *ngIf="cameraimage;then mobileHomeBtn"></div>
        <ng-template #mobileHomeBtn>
            <div class="homeBtn" (click)="BackToHome()">    
                <img src="assets/images/TopHierarchyDashboard/home button  1.png" alt="" srcset="">
            </div>
        </ng-template> -->

        <!-- LeaderBoard -->
        <div style="width:100vw;margin:2%;border-radius:10px">
            <div class="row leaderBoard-container-mobile "
                [style.background-image]="sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                <div class="row">
                    <div class="leaderboard_rank_mobile col-2 text-start"><b>Rank</b> </div>
                    <div class="leaderboard_name_mobile col-5 text-start ms-4"><b> Name</b> </div>
                    <div class="leaderboard_points_mobile col-2 ms-3"><b> Points</b> </div>
                </div>

                <!-- <div *ngIf="sectionView_1._personal_data.id_role==9 ;then smMobile else rmMobile"></div> -->

                <div
                    *ngIf="spectSearchStr ===''|| spectSearchStr == undefined || spectSearList.length>10;then withoutsearchMobile else withsearchMobile">
                </div>
                <ng-template #withoutsearchMobile>
                    <div class="leaderboard_label_tile_mobile">
                        <!-- <div>
                        {{leaderboard_data[0]._data | json}}
                    </div> -->
                        <mat-card class="leaderboard_tile_mobile" *ngFor="let res of leaderboard_data; let i=index"
                            [style.background-image]="'url(' + res?.ranking_image + ')'">

                            <div class="leaderboard_rank_score_mobile">
                                {{res.rankingtable_number}}
                            </div>
                            <div
                                *ngIf="this.userSelectionData._personal_data.id_role!=13 ; then openMobileHierachy else dontOpenMobileHierachy ">
                            </div>
                            <ng-template #openMobileHierachy>
                                <div class="leaderboard_rank_profile_image_div_mobile"
                                    (click)="openHierarchyPopup(res)">
                                    <img class="leaderboard_rank_profile_image_mobile" src="{{res.rankingtable_logo}}"
                                        width="100%" height="100%" />
                                </div>
                            </ng-template>
                            <ng-template #dontOpenMobileHierachy>
                                <div class="leaderboard_rank_profile_image_div_mobile">
                                    <img class="leaderboard_rank_profile_image_mobile" src="{{res.rankingtable_logo}}"
                                        width="100%" height="100%" />
                                </div>
                            </ng-template>


                            <div class="leaderboard_name_and_team_mobile" (click)="navigateToSMDashboard(res)">
                                <div class="leaderboard_name_label_mobile" ngbTooltip="{{res.rankingtable_name}}"
                                    placement="bottom">
                                    {{res.rankingtable_name}}
                                </div>
                                <div class="leaderboard_team_label_mobile">
                                    {{res.rankingtable_team}}
                                </div>
                            </div>

                            <div class="leaderboard_rank_badge_image_div_mobile">
                                <img class="leaderboard_rank_badge_image_mobile" src="{{res.ranking_badge}}"
                                    height="100%" width="100%" />
                            </div>


                            <div class="leaderboard_rank_points_div_mobile">
                                <div class="leaderboard_rank_points_label_mobile">{{res.rankingtable_weightage}}</div>
                            </div>
                            <div
                                *ngIf="this.userSelectionData._personal_data.id_role!=13;then MobilePoke else DontMobilePoke ">
                            </div>
                            <ng-template #MobilePoke>
                                <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                    *ngIf="res.rankingtable_arrow=='green'"
                                    (click)="upDownArrow(res.rankingtable_arrow,res)">
                                    <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                        src="{{sectionView_1.theme_details[0].up_arrow}}" height="90%" width="90%" />
                                </div>

                                <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                    *ngIf="res.rankingtable_arrow=='red'"
                                    (click)="upDownArrow(res.rankingtable_arrow,res)">
                                    <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                        src="{{sectionView_1.theme_details[0].down_arrow}}" height="90%" width="90%" />
                                </div>

                                <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                    *ngIf="res.rankingtable_arrow=='yellow'">
                                    <!-- <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                            src="{{sectionView_1.theme_details[0].equal_arrow}}" height="90%" width="90%" /> -->
                                    <div style="height:2.5vh;width:2.5vh;border-radius:100%;background:#FAA019;"></div>
                                </div>
                            </ng-template>
                            <ng-template #DontMobilePoke>
                                <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                    *ngIf="res.rankingtable_arrow=='green'">
                                    <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                        src="{{sectionView_1.theme_details[0].up_arrow}}" height="90%" width="90%" />
                                </div>

                                <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                    *ngIf="res.rankingtable_arrow=='red'">
                                    <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                        src="{{sectionView_1.theme_details[0].down_arrow}}" height="90%" width="90%" />
                                </div>

                                <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                    *ngIf="res.rankingtable_arrow=='yellow'">
                                    <!-- <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                            src="{{sectionView_1.theme_details[0].equal_arrow}}" height="90%" width="90%" /> -->
                                    <div style="height:2.5vh;width:2.5vh;border-radius:100%;background:#FAA019;"></div>
                                </div>
                            </ng-template>

                        </mat-card>


                    </div>
                </ng-template>
                <ng-template #withsearchMobile>
                    <div class="leaderboard_label_tile_mobile">
                        <!-- <div>
                        {{leaderboard_data[0]._data | json}}
                    </div> -->
                        <mat-card class="leaderboard_tile_mobile" *ngFor="let res of spectSearList; let i=index"
                            [style.background-image]="'url(' + res?.ranking_image + ')'"
                            (click)="navigateToSMDashboard(res)">

                            <div class="leaderboard_rank_score_mobile">
                                {{res.rankingtable_number}}
                            </div>

                            <div class="leaderboard_rank_profile_image_div_mobile" (click)="openHierarchyPopup(res)">
                                <img class="leaderboard_rank_profile_image_mobile" src="{{res.rankingtable_logo}}"
                                    width="100%" height="100%" />
                            </div>

                            <div class="leaderboard_name_and_team_mobile">
                                <div class="leaderboard_name_label_mobile" ngbTooltip="{{res.rankingtable_name}}"
                                    placement="bottom">
                                    {{res.rankingtable_name}}
                                </div>
                                <div class="leaderboard_team_label_mobile">
                                    {{res.rankingtable_team}}
                                </div>
                            </div>

                            <div class="leaderboard_rank_badge_image_div_mobile">
                                <img class="leaderboard_rank_badge_image_mobile" src="{{res.ranking_badge}}"
                                    height="100%" width="100%" />
                            </div>


                            <div class="leaderboard_rank_points_div_mobile">
                                <div class="leaderboard_rank_points_label_mobile">{{res.rankingtable_weightage}}</div>
                            </div>

                            <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                *ngIf="res.rankingtable_arrow=='green'"
                                (click)="upDownArrow(res.rankingtable_arrow,res)">
                                <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                    src="{{sectionView_1.theme_details[0].up_arrow}}" height="90%" width="90%" />
                            </div>

                            <div class="leaderboard_rank_up_down_arrow_div_mobile" *ngIf="res.rankingtable_arrow=='red'"
                                (click)="upDownArrow(res.rankingtable_arrow,res)">
                                <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                    src="{{sectionView_1.theme_details[0].down_arrow}}" height="90%" width="90%" />
                            </div>

                            <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                *ngIf="res.rankingtable_arrow=='yellow'">
                                <!-- <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                        src="{{sectionView_1.theme_details[0].equal_arrow}}" height="90%" width="90%" /> -->
                                <div style="height:6vh;width:6vh;border-radius:100%;background:#FAA019;"></div>
                            </div>
                        </mat-card>




                    </div>
                </ng-template>



                <div class="row" *ngIf="lengthLeaderBoardData>19 || lengthSearchList>19">
                    <div class="d-flex justify-content-center col">
                        <button class="view_more_button_mobile col-12" (click)="viewMore()">
                            View More
                        </button>
                    </div>
                </div>

            </div>
        </div>

    </ng-template>

    <ng-template #hierarchyPopup let-modal>
        <div class="level-buckets hierarchyPopup-buckets">
            <div class="modal-header border-bottom-0 p-0">
                <div class="row w-100">
                    <div class="col-12 pt-2">
                        <i class="fa fa-times float-end" (click)="modal.dismiss('Cross click')"></i>
                    </div>
                </div>
            </div>
            <div class="modal-body dashboard-popup-level">

                <div class="row  hierarchy-popup-list hierarchy-popup-list-border mb-3 p-2 ms-5 w-75"
                    *ngFor="let item of hierarchyPopupList"
                    (click)="getDataBasedOnUserIDVIAhierarchyPopupList(item,modal)">
                    <div class=" col-6 pt-2">
                        <div class="media">
                            <img loading="lazy" class="mr-3 rounded-circle" height="45" width="45"
                                src="{{item?.userlogo}}" alt="Generic placeholder image">
                            <div class="media-body">
                                <h5 class="mt-0 hierarchy-popup-list-team_name ms-2">{{item?.team_name}}
                                    <p class="hierarchy-popup-list-first_name mb-0">
                                        {{item?.first_name}}
                                    </p>
                                    <p class="hierarchy-popup-list-role_name">
                                        {{item?.role_name}}
                                    </p>
                                </h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 pt-2">
                        <img loading="lazy" class="mr-3 rounded-circle float-end hierarchy-popup-list-right-arrow"
                            height="12" width="8" src="assets/images/svg/dashboard/right-arrow.svg"
                            alt="Generic placeholder image">
                        <img loading="lazy" class="mr-3 rounded-circle float-end" height="45" width="45"
                            src="{{item?.teamlogo}}" alt="Generic placeholder image">
                    </div>

                </div>

            </div>
        </div>
    </ng-template>

</div>

<!-- Modal For My Team LeaderBoard -->
<div class="modal fade" id="myTeamLeaderBoard" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="d-flex justify-content-end p-2">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    style="width:10%;border:none"></button>
            </div>
            <div class="modal-body">
                <mat-tab-group>


                    <mat-tab label="My Rank">
                        <div class="row rank_label mt-2">
                            <div class="col-3">Rank</div>

                            <div class="col-4">Name</div>

                            <div class="col ms-5">Points</div>
                        </div>
                        <div *ngFor="let item of sectionView_3_list_popup?.[0]?._data">
                            <div class="row leaderBoard_tile" style="font-size:0.7em"
                                *ngIf="item.userid==this.sectionView_1._personal_data.USERID"
                                style="background:url('{{item.ranking_image_web}}')">

                                <div class="col-1">&nbsp;&nbsp;&nbsp;{{item.rankingtable_number}}</div>

                                <div class="col-2">
                                    <div class="col-2" style="height:5vh;width:5vh">
                                        <img src="{{item.rankingtable_logo}}" height="100%" width="100%" alt=""
                                            style="border-radius:50%">
                                    </div>

                                </div>
                                <div class="col-4 userName_mobile" title="{{item.rankingtable_name}}">
                                    {{item.rankingtable_name}}</div>
                                <div class="col-2">
                                    <div style="height:5vh;width:5vh">
                                        <img src="{{item.ranking_badge}}" alt="" data-holder-rendered="true"
                                            height="100%" width="100%">
                                    </div>
                                </div>
                                <div class="col-1">{{item?.rankingtable_weightage}}</div>
                                <div class="col d-flex justify-content-end pe-3">

                                    <div style="height:5.5vh;" *ngIf="item.rankingtable_arrow=='green'">

                                        <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                            height="100%">
                                    </div>

                                    <div *ngIf="item.rankingtable_arrow=='red'" style="height:5.5vh;">

                                        <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                            height="100%">

                                    </div>
                                    <div *ngIf="item.rankingtable_arrow=='yellow'"
                                        style="height:5.5vh;width: 5.5vh;display:flex;justify-content:center;align-items: center;">

                                        <div
                                            style="height: 2.8vh;width:2.8vh;border-radius:100%;background-color:orange ;">
                                        </div>
                                        <!-- <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt="" srcset="" height="60%" width="60%"> -->

                                    </div>
                                </div>
                            </div>

                        </div>


                        <div class="leaderboard_container">
                            <div *ngFor="let item of sectionView_3_list_popup?.[0]?._data">
                                <div class="row leaderBoard_tile mt-2 "
                                    *ngIf="item.userid!=this.sectionView_1._personal_data.USERID"
                                    style="background:url('{{item.ranking_image_web}}')">

                                    <div class="col-1">&nbsp;&nbsp;&nbsp;{{item.rankingtable_number}}</div>

                                    <div class="col-2">
                                        <div class="col-2" style="height:5vh;width:5vh">
                                            <img src="{{item.rankingtable_logo}}" height="100%" width="100%" alt=""
                                                style="border-radius:50%">
                                        </div>

                                    </div>
                                    <div class="col-4 userName_mobile" title="{{item.rankingtable_name}}">
                                        {{item.rankingtable_name}}</div>
                                    <div class="col-2">
                                        <div style="height:5vh;width:5vh">
                                            <img src="{{item.ranking_badge}}" alt="" data-holder-rendered="true"
                                                height="100%" width="100%">
                                        </div>
                                    </div>
                                    <div class="col-1">{{item?.rankingtable_weightage}}</div>
                                    <div class="col d-flex justify-content-end">

                                        <div style="height:5.5vh;" *ngIf="item.rankingtable_arrow=='green'">

                                            <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                                height="100%">
                                        </div>

                                        <div *ngIf="item.rankingtable_arrow=='red'" style="height:5.5vh;">

                                            <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                                height="100%">

                                        </div>
                                        <div *ngIf="item.rankingtable_arrow=='yellow'"
                                            style="height:5.5vh;width: 5.5vh;display:flex;justify-content:center;align-items: center;">

                                            <div
                                                style="height: 2.8vh;width:2.8vh;border-radius:100%;background-color:orange ;">
                                            </div>
                                            <!-- <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt="" srcset="" height="60%" width="60%"> -->

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </mat-tab>
                    <!-- <mat-tab label="Overall my rank">
                    <div class="row rank_label">
                        <div class="col-2">Rank</div>
                        <div class="col-1"></div>
                        <div class="col-4">Name</div>
                        <div class="col-2"></div>
                        <div class="col-2">Points</div>
                        <div class="col-1"></div>
                </div>
                <div *ngFor="let item of sectionView_3_list?.[0]?._Overall">
                    <div class="row leaderBoard_tile mt-2 "  *ngIf="item.userid==this.sectionView_1._personal_data.USERID" style="background:url({{item.ranking_image_web}})"  >
                       
                        <div class="col-1">&nbsp;{{item.rankingtable_number}}</div>

                        <div class="col-2" >
                            <div class="col-2" style="height:5vh;width:5vh">
                                <img src="{{item.rankingtable_logo}}" height="100%" width="100%" alt="" style="border-radius:50%">
                            </div>
                            
                        </div>
                        <div class="col-4">{{item.rankingtable_name}}</div>
                        <div class="col-2">
                            <div style="height:5vh;width:5vh">
                                <img src="{{item.ranking_badge}}" alt=""  data-holder-rendered="true" height="100%" width="100%">
                            </div>
                        </div>
                        <div class="col-1">{{item?.rankingtable_weightage}}</div>
                        <div class="col d-flex justify-content-end">
                           
                            <div style="height:5.5vh;" *ngIf="item.rankingtable_arrow=='green'">

                                <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                    height="100%">
                            </div>

                            <div *ngIf="item.rankingtable_arrow=='red'" style="height:5.5vh;">

                                <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                    height="100%">

                            </div>
                            <div *ngIf="item.rankingtable_arrow=='yellow'"
                                style="height:5.5vh;width: 5.5vh;display:flex;justify-content:center;align-items: center;">

                                <div
                                    style="height: 2.8vh;width:2.8vh;border-radius:100%;background-color:orange ;">
                                </div>
                                <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt="" srcset="" height="60%" width="60%">

                            </div>
                        </div>
                    </div>
                   
            </div>
                <div class="leaderboard_container" >
                    <div *ngFor="let item of sectionView_3_list?.[0]?._Overall">
                    <div class="row leaderBoard_tile mt-2 " *ngIf="item.userid!=this.sectionView_1._personal_data.USERID"  style="background:url({{item.ranking_image_web}})"  >
                       
                        <div class="col-1">&nbsp;{{item.rankingtable_number}}</div>

                        <div class="col-2" >
                            <div class="col-2" style="height:5vh;width:5vh">
                                <img src="{{item.rankingtable_logo}}" height="100%" width="100%" alt="" style="border-radius:50%">
                            </div>
                            
                        </div>
                        <div class="col-4">{{item.rankingtable_name}}</div>
                        <div class="col-2">
                            <div style="height:5vh;width:5vh">
                                <img src="{{item.ranking_badge}}" alt=""  data-holder-rendered="true" height="100%" width="100%">
                            </div>
                        </div>
                        <div class="col-1">{{item?.rankingtable_weightage}}</div>
                        <div class="col d-flex justify-content-end">
                           
                            <div style="height:5.5vh;" *ngIf="item.rankingtable_arrow=='green'">

                                <img src="assets/images/BoosterAssests/UP-16687580465394.png" alt=""
                                    height="100%">
                            </div>

                            <div *ngIf="item.rankingtable_arrow=='red' " style="height:5.5vh;">

                                <img src="assets/images/BoosterAssests/DN-16687580461987.png" alt=""
                                    height="100%">

                            </div>

                            <div *ngIf="item.rankingtable_arrow=='yellow'"
                                style="height:5.5vh;width: 5.5vh;display:flex;justify-content:center;align-items: center;">

                                <div
                                    style="height: 2.8vh;width:2.8vh;border-radius:100%;background-color:orange ;">
                                </div>
                               

                            </div>
                        </div>
                    </div>
                </div>
                </div>
                </mat-tab> -->

                </mat-tab-group>

            </div>

        </div>
    </div>
</div>

<!-- Modal for IndexWiseLeaderboard -->

<div class="modal fade" id="IndexWiseLeaderBoard" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content ">
            <div class="d-flex justify-content-end p-4">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    style="width:3vw;border:none"></button>
            </div>
            <div class="modal-body web-view">
                <div class="leaderBoard mt-2" style="background-size: cover;border-radius: 10px;"
                    [style.background-image]="
                            sectionView_1?.theme_details?.[0]?.island_background ? 'url('+sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                    <div>
                        <div class="button_div">
                            <button style="margin-left: 1vw;" class="button_series" this.activeClassPopup=event;
                                *ngFor="let item of sectionView2ResponsePopup;let i=index"
                                [class.activeTab]="i==activeClassPopup" (click)="GetIndexWisePopup(i)">
                                {{item?.label}}
                            </button>
                        </div>

                    </div>
                </div>


                <!-- LeaderBoard -->
                <div class="row mt-2"
                    [style.background-image]="
                sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null"
                    style="background-size:cover;border-radius:10px;width: 100%;
                margin-left: 0.1vw;">
                    <div class="row" style="color: #ffff; margin-top: 1.2vh;">
                        <div class="leaderboard_label ps-4 d-flex align-items-center mb-1" style="color: #000;">
                            <div class="leaderboard_rank">Rank</div>
                            <div class="leaderboard_name" style="margin-left: 7vw;">Name</div>
                            <div class="leaderboard_points" style="margin-left: 22vw;">Points</div>
                        </div>
                    </div>

                    <div class="row leaderboard_with_fixed_tile">

                        <!-- <div *ngIf="sectionView_1._personal_data.id_role==9 ;then sm else rm"></div> -->
                        <!-- <ng-template #sm> -->



                        <div [ngClass]="lengthLeaderBoardData>19 ?'leaderboard_label_tile_length':'leaderboard_label_tile'"
                            [style.height.vh]="sectionView_1?._personal_data?.id_role==8?35:42">
                            <div *ngFor="let res of sectionView_3_list_popup_index?.[0]?._data; let i=index">


                                <mat-card style="cursor: pointer;" class="leaderboard_tile"
                                    *ngIf="res.userid==sectionView_1?._personal_data?.USERID"
                                    [style.background-image]="'url(' + res?.ranking_image_web + ')'">

                                    <div class="leaderboard_rank_score">
                                        {{res.rankingtable_number}}
                                    </div>
                                    <!-- (click)="openHierarchyPopup(res)" -->
                                    <div
                                        *ngIf="this.userSelectionData._personal_data.id_role!=13 ; then openHierarchy else dontOpenHierarchy ">
                                    </div>
                                    <ng-template #openHierarchy>
                                        <div class="leaderboard_rank_profile_image_div"
                                            *ngIf="this.userSelectionData._personal_data.id_role!=13">
                                            <img class="leaderboard_rank_profile_image"
                                                (click)="openHierarchyPopup(res)" src="{{res.rankingtable_logo}}" />
                                        </div>
                                    </ng-template>

                                    <ng-template #dontOpenHierarchy>
                                        <div class="leaderboard_rank_profile_image_div"
                                            *ngIf="this.userSelectionData._personal_data.id_role==13">
                                            <img class="leaderboard_rank_profile_image"
                                                src="{{res.rankingtable_logo}}" />
                                        </div>
                                    </ng-template>


                                    <div class="leaderboard_name_and_team" (click)="navigateToSMDashboard(res)">
                                        <div class="leaderboard_name_label" ngbTooltip="{{res.rankingtable_name}}"
                                            placement="bottom">
                                            {{res.rankingtable_name}}
                                        </div>
                                        <div class="leaderboard_team_label" (click)="navigateToSMDashboard(res)">
                                            {{res.display_name}}
                                        </div>
                                    </div>

                                    <div class="leaderboard_rank_badge_image_div">
                                        <img class="leaderboard_rank_badge_image" src="{{res.ranking_badge}}" />
                                    </div>


                                    <div class="leaderboard_rank_points_div">
                                        <div class="leaderboard_rank_points_label">{{res.rankingtable_weightage}}</div>
                                    </div>

                                    <div
                                        *ngIf="this.userSelectionData._personal_data.id_role!=13;then openPoke else closePoke">
                                    </div>
                                    <ng-template #openPoke>
                                        <div class="leaderboard_rank_up_down_arrow_div "
                                            style="margin-left: 3vw;display:flex; justify-content: end;"
                                            *ngIf="res.rankingtable_arrow=='green'">
                                            <img (click)="upDownArrow(res.rankingtable_arrow,res)"
                                                class="leaderboard_rank_up_down_arrow_image"
                                                src="{{sectionView_1.theme_details[0].up_arrow}}" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div"
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='red'">
                                            <img (click)="upDownArrow(res.rankingtable_arrow,res)"
                                                class="leaderboard_rank_up_down_arrow_image"
                                                src="{{sectionView_1.theme_details[0].down_arrow}}" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div "
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='yellow'">
                                            <div style="height:3vh;width:3vh;border-radius:100%;">
                                                <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt=""
                                                    srcset="" height="100%" width="100%">
                                            </div>


                                        </div>
                                    </ng-template>
                                    <ng-template #closePoke>
                                        <div class="leaderboard_rank_up_down_arrow_div "
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='green'">
                                            <img class="leaderboard_rank_up_down_arrow_image"
                                                src="{{sectionView_1.theme_details[0].up_arrow}}" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div"
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='red'">
                                            <img class="leaderboard_rank_up_down_arrow_image"
                                                src="{{sectionView_1.theme_details[0].down_arrow}}" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div "
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='yellow'">
                                            <div style="height:3vh;width:3vh;border-radius:100%;">
                                                <img src="assets/images/BoosterAssests/EQ-16687580462022.png" alt=""
                                                    srcset="" height="100%" width="100%">
                                            </div>


                                        </div>
                                    </ng-template>

                                </mat-card>
                            </div>
                            <div *ngFor="let res of sectionView_3_list_popup_index?.[0]?._data; let i=index">
                                <mat-card class="leaderboard_tile"
                                    *ngIf="res.userid!=sectionView_1?._personal_data?.USERID"
                                    [style.background-image]="'url(' + res?.ranking_image_web + ')'">
                                    <div class="leaderboard_rank_score">
                                        {{res.rankingtable_number}}
                                    </div>
                                    <div
                                        *ngIf="this.userSelectionData._personal_data.id_role!=13 ; then openHierarchy else dontOpenHierarchy ">
                                    </div>

                                    <ng-template #openHierarchy>
                                        <div class="leaderboard_rank_profile_image_div"
                                            (click)="openHierarchyPopup(res)">
                                            <img class="leaderboard_rank_profile_image"
                                                src="{{res.rankingtable_logo}}" />
                                        </div>
                                    </ng-template>
                                    <ng-template #dontOpenHierarchy>
                                        <div class="leaderboard_rank_profile_image_div">
                                            <img class="leaderboard_rank_profile_image"
                                                src="{{res.rankingtable_logo}}" />
                                        </div>
                                    </ng-template>


                                    <div class="leaderboard_name_and_team" (click)="navigateToRMDashboard(res)">
                                        <div class="leaderboard_name_label" ngbTooltip="{{res.rankingtable_name}}"
                                            placement="bottom">

                                            {{res.rankingtable_name}}
                                        </div>
                                        <div class="leaderboard_team_label" (click)="navigateToRMDashboard(res)">
                                            {{res.display_name}}
                                        </div>
                                    </div>
                                    <div class="leaderboard_rank_badge_image_div">
                                        <img class="leaderboard_rank_badge_image" src="{{res.ranking_badge}}" />
                                    </div>

                                    <div class="leaderboard_rank_points_div">
                                        <div class="leaderboard_rank_points_label">{{res.rankingtable_weightage}}</div>
                                    </div>

                                    <div
                                        *ngIf="this.userSelectionData._personal_data.id_role!=13;then poke else Dontpoke">
                                    </div>
                                    <ng-template #poke>
                                        <div class="leaderboard_rank_up_down_arrow_div"
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='green'">
                                            <img (click)="upDownArrow(res.rankingtable_arrow,res)"
                                                class="leaderboard_rank_up_down_arrow_image"
                                                src="{{sectionView_1.theme_details[0].up_arrow}}" />

                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div"
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='red'">
                                            <img (click)="upDownArrow(res.rankingtable_arrow,res)"
                                                class="leaderboard_rank_up_down_arrow_image"
                                                src="{{sectionView_1.theme_details[0].down_arrow}}" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div"
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='yellow'">
                                            <img class="leaderboard_rank_up_down_arrow_image"
                                                src="assets/images/BoosterAssests/EQ-16687580462022.png" />

                                        </div>
                                    </ng-template>
                                    <ng-template #Dontpoke>
                                        <div class="leaderboard_rank_up_down_arrow_div"
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='green'">
                                            <img class="leaderboard_rank_up_down_arrow_image"
                                                src="{{sectionView_1.theme_details[0].up_arrow}}" />

                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div"
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='red'">
                                            <img class="leaderboard_rank_up_down_arrow_image"
                                                src="{{sectionView_1.theme_details[0].down_arrow}}" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div"
                                            style="margin-left: 3vw;display:flex; justify-content: center;"
                                            *ngIf="res.rankingtable_arrow=='yellow'">
                                            <img class="leaderboard_rank_up_down_arrow_image"
                                                src="assets/images/BoosterAssests/EQ-16687580462022.png" />

                                        </div>
                                    </ng-template>

                                </mat-card>
                            </div>




                        </div>






                    </div>
                    <div *ngIf="lengthLeaderBoardData>19 || lengthSearchList>19;then showViewMore"></div>
                    <ng-template #showViewMore>
                        <div class="row">
                            <div class="div">
                                <button class="view_more_button" (click)="viewMore()">
                                    <img src="assets/images/svg/dashboard/load-more.svg" data-holder-rendered="true"
                                        height="13">
                                    View More
                                </button>
                            </div>
                        </div>
                    </ng-template>


                </div>


            </div>
            <div class="modal-body mobile-view">
                <mat-card class="button_div_mobile"
                    style="width:88vw;display:flex;flex-direction:column;justify-content:center;align-items: center;"
                    [style.background-image]="sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                    <div
                        style="width:84vw;display:flex;flex-direction:row;justify-content:start;align-items: center;overflow-x:overlay;flex-wrap:nowrap;column-gap:0.5em;padding-top: 3vh;">
                        <div *ngFor="let item of sectionView2ResponsePopup;let i=index">
                            <button class="button_series_mobile" [class.activeTab]="i==activeClassPopup"
                                (click)="GetIndexWisePopup(i)">
                                {{item?.label}}
                            </button>
                        </div>

                    </div>
                    <!-- <div style="width:90vw;" class=" d-flex gap-2 mt-2" *ngIf="sectionView_1?._personal_data?.id_role==8">
                    <button  class="button_series_mobile col" (click)="myLeaderboard()" [class.activeTab]="this.subActiveClass" >
                        My {{leaderboard_data_buttons[0]?.label}}
                    </button>

                    <button class="button_series_mobile col" (click)="overallLeaderboard()" [class.activeTab]="this.subActiveClassOverall">Overall {{leaderboard_data_buttons[0].label}}</button>
                </div> -->

                </mat-card>
                <div style="width:100vw;margin:2%;border-radius:10px">
                    <div class="row leaderBoard-container-mobile" style="width:90%"
                        [style.background-image]="sectionView_1?.theme_details?.[0]?.island_background ? 'url(' + sectionView_1?.theme_details?.[0]?.point_dist_background + ')' : null">
                        <div class="row">
                            <div class="leaderboard_rank_mobile col-2 text-start"><b>Rank</b> </div>
                            <div class="leaderboard_name_mobile col-5 text-start ms-4"><b> Name</b> </div>
                            <div class="leaderboard_points_mobile col-2 ms-2"><b> Points</b> </div>
                        </div>

                        <!-- <div *ngIf="sectionView_1._personal_data.id_role==9 ;then smMobile else rmMobile"></div> -->


                        <div class="leaderboard_label_tile_mobile">
                            <!-- <div>
                            {{leaderboard_data[0]._data | json}}
                        </div> -->
                            <div *ngFor="let res of sectionView_3_list_popup_index?.[0]?._data;let i=index">
                                <mat-card class="leaderboard_tile_mobile"
                                    *ngIf="res.userid==sectionView_1?._personal_data?.USERID"
                                    [style.background-image]="'url(' + res?.ranking_image + ')'">

                                    <div class="leaderboard_rank_score_mobile">
                                        {{res.rankingtable_number}}
                                    </div>
                                    <div
                                        *ngIf="this.userSelectionData._personal_data.id_role!=13 ; then openMobileHierachy else dontOpenMobileHierachy ">
                                    </div>
                                    <ng-template #openMobileHierachy>
                                        <div class="leaderboard_rank_profile_image_div_mobile"
                                            (click)="openHierarchyPopup(res)">
                                            <img class="leaderboard_rank_profile_image_mobile"
                                                src="{{res.rankingtable_logo}}" width="100%" height="100%" />
                                        </div>
                                    </ng-template>
                                    <ng-template #dontOpenMobileHierachy>
                                        <div class="leaderboard_rank_profile_image_div_mobile">
                                            <img class="leaderboard_rank_profile_image_mobile"
                                                src="{{res.rankingtable_logo}}" width="100%" height="100%" />
                                        </div>
                                    </ng-template>


                                    <div class="leaderboard_name_and_team_mobile" (click)="navigateToSMDashboard(res)">
                                        <div class="leaderboard_name_label_mobile"
                                            ngbTooltip="{{res.rankingtable_name}}" placement="bottom">
                                            {{res.rankingtable_name}}
                                        </div>
                                        <div class="leaderboard_team_label_mobile">
                                            {{res.rankingtable_team}}
                                        </div>
                                    </div>

                                    <div class="leaderboard_rank_badge_image_div_mobile">
                                        <img class="leaderboard_rank_badge_image_mobile" src="{{res.ranking_badge}}"
                                            height="100%" width="100%" />
                                    </div>


                                    <div class="leaderboard_rank_points_div_mobile">
                                        <div class="leaderboard_rank_points_label_mobile">{{res.rankingtable_weightage}}
                                        </div>
                                    </div>
                                    <div
                                        *ngIf="this.userSelectionData._personal_data.id_role!=13;then MobilePoke else DontMobilePoke ">
                                    </div>
                                    <ng-template #MobilePoke>
                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='green'"
                                            (click)="upDownArrow(res.rankingtable_arrow,res)">
                                            <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                src="{{sectionView_1.theme_details[0].up_arrow}}" height="90%"
                                                width="90%" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='red'"
                                            (click)="upDownArrow(res.rankingtable_arrow,res)">
                                            <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                src="{{sectionView_1.theme_details[0].down_arrow}}" height="90%"
                                                width="90%" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='yellow'">
                                            <!-- <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                                    src="{{sectionView_1.theme_details[0].equal_arrow}}" height="90%" width="90%" /> -->
                                            <div
                                                style="height:2.5vh;width:2.5vh;border-radius:100%;background:#FAA019;">
                                            </div>
                                        </div>
                                    </ng-template>
                                    <ng-template #DontMobilePoke>
                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='green'">
                                            <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                src="{{sectionView_1.theme_details[0].up_arrow}}" height="90%"
                                                width="90%" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='red'">
                                            <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                src="{{sectionView_1.theme_details[0].down_arrow}}" height="90%"
                                                width="90%" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='yellow'">
                                            <!-- <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                                    src="{{sectionView_1.theme_details[0].equal_arrow}}" height="90%" width="90%" /> -->
                                            <div
                                                style="height:2.5vh;width:2.5vh;border-radius:100%;background:#FAA019;">
                                            </div>
                                        </div>
                                    </ng-template>

                                </mat-card>


                            </div>
                            <div *ngFor="let res of sectionView_3_list_popup_index?.[0]?._data;let i=index">
                                <div class="leaderboard_tile_mobile"
                                    *ngIf="res.userid!=sectionView_1?._personal_data?.USERID"
                                    [style.background-image]="'url(' + res?.ranking_image + ')'">

                                    <div class="leaderboard_rank_score_mobile">
                                        {{res.rankingtable_number}}
                                    </div>
                                    <div
                                        *ngIf="this.userSelectionData._personal_data.id_role!=13 ; then openMobileHierachy else dontOpenMobileHierachy ">
                                    </div>
                                    <ng-template #openMobileHierachy>
                                        <div class="leaderboard_rank_profile_image_div_mobile"
                                            (click)="openHierarchyPopup(res)">
                                            <img class="leaderboard_rank_profile_image_mobile"
                                                src="{{res.rankingtable_logo}}" width="100%" height="100%" />
                                        </div>
                                    </ng-template>
                                    <ng-template #dontOpenMobileHierachy>
                                        <div class="leaderboard_rank_profile_image_div_mobile">
                                            <img class="leaderboard_rank_profile_image_mobile"
                                                src="{{res.rankingtable_logo}}" width="100%" height="100%" />
                                        </div>
                                    </ng-template>


                                    <div class="leaderboard_name_and_team_mobile" (click)="navigateToSMDashboard(res)">
                                        <div class="leaderboard_name_label_mobile"
                                            ngbTooltip="{{res.rankingtable_name}}" placement="bottom">
                                            {{res.rankingtable_name}}
                                        </div>
                                        <div class="leaderboard_team_label_mobile">
                                            {{res.rankingtable_team}}
                                        </div>
                                    </div>

                                    <div class="leaderboard_rank_badge_image_div_mobile">
                                        <img class="leaderboard_rank_badge_image_mobile" src="{{res.ranking_badge}}"
                                            height="100%" width="100%" />
                                    </div>


                                    <div class="leaderboard_rank_points_div_mobile">
                                        <div class="leaderboard_rank_points_label_mobile">{{res.rankingtable_weightage}}
                                        </div>
                                    </div>
                                    <div
                                        *ngIf="this.userSelectionData._personal_data.id_role!=13;then MobilePoke else DontMobilePoke ">
                                    </div>
                                    <ng-template #MobilePoke>
                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='green'"
                                            (click)="upDownArrow(res.rankingtable_arrow,res)">
                                            <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                src="{{sectionView_1.theme_details[0].up_arrow}}" height="90%"
                                                width="90%" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='red'"
                                            (click)="upDownArrow(res.rankingtable_arrow,res)">
                                            <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                src="{{sectionView_1.theme_details[0].down_arrow}}" height="90%"
                                                width="90%" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='yellow'">
                                            <!-- <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                                            src="{{sectionView_1.theme_details[0].equal_arrow}}" height="90%" width="90%" /> -->
                                            <div
                                                style="height:2.5vh;width:2.5vh;border-radius:100%;background:#FAA019;">
                                            </div>
                                        </div>
                                    </ng-template>
                                    <ng-template #DontMobilePoke>
                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='green'">
                                            <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                src="{{sectionView_1.theme_details[0].up_arrow}}" height="90%"
                                                width="90%" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='red'">
                                            <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                src="{{sectionView_1.theme_details[0].down_arrow}}" height="90%"
                                                width="90%" />
                                        </div>

                                        <div class="leaderboard_rank_up_down_arrow_div_mobile"
                                            *ngIf="res.rankingtable_arrow=='yellow'">
                                            <!-- <img class="leaderboard_rank_up_down_arrow_image_mobile"
                                                                            src="{{sectionView_1.theme_details[0].equal_arrow}}" height="90%" width="90%" /> -->
                                            <div
                                                style="height:2.5vh;width:2.5vh;border-radius:100%;background:#FAA019;">
                                            </div>
                                        </div>
                                    </ng-template>

                                </div>
                            </div>



                        </div>





                        <div class="row" *ngIf="lengthLeaderBoardData>19 || lengthSearchList>19">
                            <div class="d-flex justify-content-center col">
                                <button class="view_more_button_mobile col-12" (click)="viewMore()">
                                    View More
                                </button>
                            </div>
                        </div>

                    </div>
                </div>



            </div>


        </div>
    </div>
</div>
<!-- Point Distribution -->
<div class="modal fade" id="operallPointsAbove" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="d-flex justify-content-end p-2">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    style="width:4vw;border:none"></button>
            </div>
            <div class="modal-body" >
                <div  style="height:80vh;display: flex;justify-content: center;" *ngIf="this.sectionView_1?._personal_data?.id_coroebus_organization=='80'||this.sectionView_1?._personal_data?.id_coroebus_organization=='81'">
                    <img src="assets/images/PointdistImage.png" height="100%" width="90%">
                </div>
                <div *ngIf="this.sectionView_1?._personal_data?.id_coroebus_organization!='80'||this.sectionView_1?._personal_data?.id_coroebus_organization=='81';then forOtherOrg"></div>
                <ng-template #forOtherOrg>
                    <mat-tab-group [selectedIndex]="selectedIndex" *ngIf="labelArray?.length!=0" >
                    
                        <mat-tab label="{{labelArray[0]?.label}}" *ngIf="labelArray[0]?.Kpidata?.data?.length>0">
                            
    
                            <div class="d-flex justify-content-between">
                                
                                <h5 class="col-8" style="font-family:'Inter';font-weight:600;margin-top:3%;font-size:1.0em;width:40%">{{fullFormKpiNamefirst}}
                                </h5>
                                <h5 class="col-4 d-flex justify-content-end " style="font-family:'Inter';font-weight:600;margin-top:3%;font-size:1.0em ;width:40%">
                                    <div>Frequency : {{labelArray[0]?.Kpidata?.data[0]?.frequency_name}}</div>
                                   
                                </h5>
                                    
                            </div>
                           
                            
                            <div *ngIf="endRange;then forAdvocacyForOne else forOtherKpiOne"></div>
                           <ng-template #forAdvocacyForOne>
                            <table class="mt-4">
                                <thead [style.background]="sectionView_1?.theme_details?.[0]?.dark_color">
                                    <th>No. of Instances </th>
                                    <th>Points per Intance</th>
                                </thead>
                                <tbody *ngFor="let kpiData of labelArray[0]?.Kpidata?.data">
                                    <tr>
                                        <td>{{kpiData.start_range}}</td>
                                        <td>{{kpiData.points}}</td>
    
                                    </tr>
                                   
    
                                </tbody>
    
    
                            </table>
                           </ng-template>
                           <ng-template #forOtherKpiOne>
                            <table class="mt-4" >
                                <thead [style.background]="sectionView_1?.theme_details?.[0]?.dark_color">
                                    <th>Start Range </th>
                                    <th>End Range</th>
                                    <th>Point</th>
                                </thead>
                                <tbody *ngFor="let kpiData of labelArray[0]?.Kpidata?.data">
                                    <tr>
                                        <td>{{kpiData?.start_range}}</td>
                                        <td>{{kpiData?.end_range}}</td>
                                        <td>{{kpiData?.points}}</td>
                                    </tr>
                                    
                                </tbody>
    
    
                            </table>
                           </ng-template>
    
    
                        </mat-tab>
                         <mat-tab label="{{labelArray[1]?.label}}" *ngIf="labelArray[1]?.Kpidata?.data?.length>0">
                            <div class="d-flex justify-content-between">
                                
                                <h5 class="col-8" style="font-family:'Inter';font-weight:600;margin-top:3%;font-size:1.0em;width:40%">{{fullFormKpiNamesecond}}
                                </h5>
                                <h5 class="col-4 d-flex justify-content-end " style="font-family:'Inter';font-weight:600;margin-top:3%;font-size:1.0em ;width:40%">
                                    <div>Frequency : {{labelArray[1]?.Kpidata?.data[0].frequency_name}}</div>
                                   
                                </h5>
                                    
                            </div>
                           
                            
                            <div *ngIf="endRangeSecond;then forAdvocacyFortwo else forOtherKpiTwo"></div>
                           <ng-template #forAdvocacyFortwo>
                            <table class="mt-4">
                                <thead [style.background]="sectionView_1?.theme_details?.[0]?.dark_color">
                                    <th>No. of Instance </th>
                                    <th>Points per Instances</th>
                                </thead>
                                <tbody *ngFor="let kpiData of labelArray[1]?.Kpidata?.data">
                                    <tr>
                                        <td>{{kpiData.start_range}}</td>
                                        <td>{{kpiData.points}}</td>
    
                                    </tr>
                                   
    
                                </tbody>
    
    
                            </table>
                           </ng-template>
                           <ng-template #forOtherKpiTwo>
                            <table class="mt-4" >
                                <thead [style.background]="sectionView_1?.theme_details?.[0]?.dark_color">
                                    <th>Start Range </th>
                                    <th>End Range</th>
                                    <th>Point</th>
                                </thead>
                                <tbody *ngFor="let kpiData of labelArray[1]?.Kpidata?.data">
                                    <tr>
                                        <td>{{kpiData?.start_range}}</td>
                                        <td>{{kpiData?.end_range}}</td>
                                        <td>{{kpiData?.points}}</td>
                                    </tr>
                                    
                                </tbody>
    
    
                            </table>
                           </ng-template>
                            
    
    
                        </mat-tab>
                        <mat-tab label="{{labelArray[2]?.label}}" *ngIf="labelArray[2]?.Kpidata?.data?.length>0">
                            <div class="d-flex justify-content-between">
                                
                                <h5 class="col-8" style="font-family:'Inter';font-weight:600;margin-top:3%;font-size:1.0em;width:40%">{{fullFormKpiNameThird}}
                                </h5>
                                <h5 class="col-4 d-flex justify-content-end " style="font-family:'Inter';font-weight:600;margin-top:3%;font-size:1.0em ;width:40%">
                                    <div>Frequency : {{labelArray[2]?.Kpidata?.data[0].frequency_name}}</div>
                                   
                                </h5>
                                    
                            </div>
                           
                            <div *ngIf="endRangeThird;then forAdvocacyForthree else forOtherKpiThree"></div>
                           <ng-template #forAdvocacyForthree>
                            <table class="mt-4">
                                <thead [style.background]="sectionView_1?.theme_details?.[0]?.dark_color">
                                    <th>No. of Instances </th>
                                    <th>Points per Instance</th>
                                </thead>
                                <tbody *ngFor="let kpiData of labelArray[2]?.Kpidata?.data">
                                    <tr>
                                        <td>{{kpiData.start_range}}</td>
                                        <td>{{kpiData.points}}</td>
    
                                    </tr>
                                   
    
                                </tbody>
    
    
                            </table>
                           </ng-template>
                           <ng-template #forOtherKpiThree>
                            <table class="mt-4" >
                                <thead [style.background]="sectionView_1?.theme_details?.[0]?.dark_color">
                                    <th>Start Range </th>
                                    <th>End Range</th>
                                    <th>Point</th>
                                </thead>
                                <tbody *ngFor="let kpiData of labelArray[2]?.Kpidata?.data">
                                    <tr>
                                        <td>{{kpiData?.start_range}}</td>
                                        <td>{{kpiData?.end_range}}</td>
                                        <td>{{kpiData?.points}}</td>
                                    </tr>
                                    
                                </tbody>
    
    
                            </table>
                           </ng-template>
    
    
                        </mat-tab>
                        <mat-tab label="{{labelArray[3]?.label}}" *ngIf="labelArray[3]?.Kpidata?.data?.length>0">
                            <div class="d-flex justify-content-between">
                                
                                <h5 class="col-8" style="font-family:'Inter';font-weight:600;margin-top:3%;font-size:1.0em;width:40%">
                                    {{fullFormKpiNameFourth}}
                                </h5>
                                <h5 class="col-4 d-flex justify-content-end " style="font-family:'Inter';font-weight:600;margin-top:3%;font-size:1.0em ;width:40%">
                                    <div>Frequency : {{labelArray[3]?.Kpidata?.data[0].frequency_name}}</div>
                                   
                                </h5>
                                    
                            </div>
                            <div *ngIf="endRangeFourth;then forAdvocacy else forOtherKpi"></div>
                           <ng-template #forAdvocacy>
                            <table class="mt-4">
                                <thead [style.background]="sectionView_1?.theme_details?.[0]?.dark_color">
                                    <th>No. of Instances </th>
                                   
                                    <th>Points per Instance</th>
                                </thead>
                                <tbody *ngFor="let kpiData of labelArray[3]?.Kpidata?.data">
                                    <tr>
                                        <td>{{kpiData.start_range}}</td>
                                        <td>{{kpiData.points}}</td>
    
                                    </tr>
                                   
    
                                </tbody>
    
    
                            </table>
                           </ng-template>
                           <ng-template #forOtherKpi>
                            <table class="mt-4" >
                                <thead [style.background]="sectionView_1?.theme_details?.[0]?.dark_color">
                                    <th>Start Range </th>
                                    <th>End Range</th>
                                    <th>Point</th>
                                </thead>
                                <tbody *ngFor="let kpiData of labelArray[3]?.Kpidata?.data">
                                    <tr>
                                        <td>{{kpiData?.start_range}}</td>
                                        <td>{{kpiData?.end_range}}</td>
                                        <td>{{kpiData?.points}}</td>
                                    </tr>
                                    
                                </tbody>
    
    
                            </table>
                           </ng-template>
                            
    
    
    
                        </mat-tab>
                        
                    </mat-tab-group>
                    <div *ngIf="labelArray?.length==0" class="d-flex flex-column justify-content-center align-items-center">
    
                        <img src="assets/images/empty-box.png" alt="" srcset="" heigth="30%" width="30%">
                        <h2>No data available !!!</h2>
                        
                    </div> 
                </ng-template>
               

            </div>

        </div>
    </div>
</div>